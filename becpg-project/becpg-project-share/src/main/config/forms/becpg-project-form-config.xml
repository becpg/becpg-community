<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (C) 2010-2014 beCPG. 
   
  This file is part of beCPG 
   
  beCPG is free software: you can redistribute it and/or modify 
  it under the terms of the GNU Lesser General Public License as published by 
  the Free Software Foundation, either version 3 of the License, or 
  (at your option) any later version. 
   
  beCPG is distributed in the hope that it will be useful, 
  but WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
  GNU Lesser General Public License for more details. 
   
  You should have received a copy of the GNU Lesser General Public License along with beCPG. If not, see <http://www.gnu.org/licenses/>.
-->
<alfresco-config>	
	<config condition="pjt:project" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="bcpg:code" />
					<show id="cm:title" force="true" />
              		<show id="cm:description" force="true" />					
					<show id="pjt:projectHierarchy1" />
					<show id="pjt:projectHierarchy2" />
					<show id="pjt:projectOrigin" />
					<show id="pjt:projectSponsor" />
					<show id="pjt:projectManager" />
					<show id="pjt:projectObservers" />					
					<show id="bcpg:entityTplRef" force="true" />
					<show id="pjt:projectEntity" />
					<show id="pjt:projectPriority" />
					<show id="pjt:projectState" />	
					<show id="bcpg:suppliers" />
										
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectDueDate" />
					<show id="pjt:projectPlanningMode" />	
					<show id="pjt:projectCompletionDate" for-mode="view" />					
					<show id="pjt:completionPercent" for-mode="view"/>
					<show id="pjt:projectOverdue" for-mode="view"/>
					<show id="pjt:projectScore" for-mode="view"/>
					<show id="pjt:projectWork" for-mode="view"/>
					<show id="pjt:projectBudgetedCost" for-mode="view"/>
					<show id="pjt:projectLoggedTime" for-mode="view"/>
					

					<!-- tags and categories -->
					<show id="cm:taggable" />
					<show id="cm:categories" />
					
					<!-- auditable -->
					<show id="cm:creator" for-mode="view" />
					<show id="cm:created" for-mode="view" />
					<show id="cm:modifier" for-mode="view" />
					<show id="cm:modified" for-mode="view" />
					
				</field-visibility>
				<appearance>
					<set id="mainInfo" appearance="bordered-panel"
						label-id="becpg.forms.set.designation.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="planning" appearance="bordered-panel"
						label-id="becpg.forms.set.planning.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="categories" appearance="bordered-panel"
						label-id="becpg.forms.set.category.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="audit" appearance="bordered-panel" label-id="becpg.forms.set.audit.label"
						template="/org/alfresco/components/form/2-column-set.ftl" />
				
					<field id="cm:name" set="mainInfo" />
					<field id="cm:title" set="mainInfo" />	
					<field id="cm:description" set="mainInfo" />						
					<field id="bcpg:code" read-only="true" set="mainInfo" />
					<field id="pjt:projectHierarchy1" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
						</control>
					</field>
					<field id="pjt:projectHierarchy2" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
							<control-param name="parent">pjt_projectHierarchy1
							</control-param>
						</control>
					</field>
					<field id="pjt:projectOrigin" set="mainInfo" />
					<field id="pjt:projectSponsor" set="mainInfo" />		
					<field id="pjt:projectManager" set="mainInfo" />
					<field id="pjt:projectObservers" set="mainInfo" />					
					<field id="bcpg:entityTplRef" set="mainInfo" >
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/targetassoc/associations/pjt:project?classNames=pjt:project,bcpg:entityTplAspect</control-param>
							<control-param name="pageLinkTemplate">entity-details?nodeRef={nodeRef}</control-param>
						</control>
					</field>	
					<field id="pjt:projectEntity" set="mainInfo" />	
					<field id="pjt:projectPriority" set="mainInfo" >
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>
					<field id="pjt:projectState" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">Planned|data.taskstate.planned,InProgress|data.taskstate.inprogress,OnHold|data.taskstate.onhold,Cancelled|data.taskstate.cancelled,Completed|data.taskstate.completed
							</control-param>
						</control>
					</field>				
					<field id="bcpg:suppliers" set="mainInfo" />
					<field id="pjt:projectScore" set="mainInfo" />		
					
					<field id="pjt:projectStartDate" set="planning" />
					<field id="pjt:projectDueDate" set="planning" />
					<field id="pjt:projectPlanningMode" set="planning" />
					<field id="pjt:projectCompletionDate" set="planning" />
					<field id="pjt:completionPercent" set="planning" />
					<field id="pjt:projectOverdue" set="planning" />
					<field id="pjt:projectWork" set="planning" />
					<field id="pjt:projectBudgetedCost" set="planning" />
					<field id="pjt:projectLoggedTime" set="planning" />					

					<!-- categories -->
					<field id="cm:taggable" set="categories">
						<control>
							<control-param name="compactMode">true</control-param>
							<control-param name="params">aspect=cm:taggable
							</control-param>
							<control-param name="createNewItemUri">/api/tag/workspace/SpacesStore
							</control-param>
							<control-param name="createNewItemIcon">tag</control-param>
						</control>
					</field>					
					<field id="cm:categories" set="categories">
						<control>
							<control-param name="compactMode">true</control-param>
						</control>
					</field>
					
					<!-- audit -->
					<field id="cm:creator" set="audit" />
					<field id="cm:created" set="audit" />
					<field id="cm:modifier" set="audit" />
					<field id="cm:modified" set="audit" />
					
				</appearance>
			</form>
			<!-- Document Library pop-up Edit Metadata form -->
         <form id="doclib-simple-metadata">
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
               <!-- tags and categories -->
               <show id="cm:taggable" for-mode="edit" force="true" />
               <show id="cm:categories" />
            </field-visibility>
            <edit-form template="../documentlibrary/forms/doclib-simple-metadata.ftl" />
            <appearance>
               <field id="cm:name">
                 <control>
                    <control-param name="maxLength">255</control-param>
                 </control>
               </field>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
               <field id="cm:taggable">
                  <control>
                     <control-param name="compactMode">true</control-param>
                     <control-param name="params">aspect=cm:taggable</control-param>
                     <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
                     <control-param name="createNewItemIcon">tag</control-param>
                  </control>
               </field>
               <field id="cm:categories">
                  <control>
                     <control-param name="compactMode">true</control-param>
                  </control>
               </field>
            </appearance>
          </form>
		</forms>
	</config>
	<config condition="pjt:project" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
				   <show id="cm:name" />
				   <show id="bcpg:code" />				   
				   <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
				   <show id="pjt:projectHierarchy1" />
				   <show id="pjt:projectHierarchy2" />
				   <show id="pjt:projectOrigin" />
					<show id="pjt:projectSponsor" />
					<show id="pjt:projectManager" />
					<show id="pjt:projectObservers" />		
					<show id="bcpg:entityTplRef" force="true" />			
					<show id="pjt:projectEntity" />
					<show id="pjt:projectPriority" />
					<show id="pjt:projectState" />										
										
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectDueDate" />
					<show id="pjt:projectPlanningMode" />					

					<!-- tags and categories -->
					<show id="cm:taggable" />
					<show id="cm:categories" />
				</field-visibility>
				<appearance>
					<set id="mainInfo" appearance="bordered-panel"
						label-id="becpg.forms.set.designation.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="planning" appearance="bordered-panel"
						label-id="becpg.forms.set.planning.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="categories" appearance="bordered-panel"
						label-id="becpg.forms.set.category.label" template="/org/alfresco/components/form/2-column-set.ftl" />
					<set id="audit" appearance="bordered-panel" label-id="becpg.forms.set.audit.label"
						template="/org/alfresco/components/form/2-column-set.ftl" />
						
					<field id="cm:name" set="mainInfo" />
					<field id="cm:title" set="mainInfo" />		
					<field id="cm:description" set="mainInfo" />
					<field id="bcpg:code" read-only="true" set="mainInfo" />				
					<field id="pjt:projectHierarchy1" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
						</control>
					</field>
					<field id="pjt:projectHierarchy2" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
							<control-param name="parent">pjt_projectHierarchy1
							</control-param>
						</control>
					</field>
					<field id="pjt:projectOrigin" set="mainInfo" />
					<field id="pjt:projectSponsor" set="mainInfo" />		
					<field id="pjt:projectManager" set="mainInfo" />
					<field id="pjt:projectObservers" set="mainInfo" />		
					<field id="bcpg:entityTplRef" set="mainInfo" >
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/targetassoc/associations/pjt:project?classNames=pjt:project,bcpg:entityTplAspect</control-param>
							<control-param name="pageLinkTemplate">entity-details?nodeRef={nodeRef}</control-param>
						</control>
					</field>				
					<field id="pjt:projectEntity" set="mainInfo" />	
					<field id="pjt:projectPriority" set="mainInfo" >
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>
					<field id="pjt:projectState" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">Planned|data.taskstate.planned,InProgress|data.taskstate.inprogress,OnHold|data.taskstate.onhold,Cancelled|data.taskstate.cancelled,Completed|data.taskstate.completed
							</control-param>
						</control>
					</field>										
					
					<field id="pjt:projectStartDate" set="planning" />
					<field id="pjt:projectDueDate" set="planning" />
					<field id="pjt:projectPlanningMode" set="planning" />
						
					<!-- categories -->
					<field id="cm:taggable" set="categories">
						<control>
							<control-param name="compactMode">true</control-param>
							<control-param name="params">aspect=cm:taggable
							</control-param>
							<control-param name="createNewItemUri">/api/tag/workspace/SpacesStore
							</control-param>
							<control-param name="createNewItemIcon">tag</control-param>
						</control>
					</field>					
					<field id="cm:categories" set="categories">
						<control>
							<control-param name="compactMode">true</control-param>
						</control>
					</field>
				</appearance>
			</form>

			<form id="datagrid">
				<field-visibility>
					<show id="pjt:projectOverdue" />
					<show id="pjt:projectHierarchy1" />
					<show id="pjt:projectHierarchy2" />
					<show id="pjt:projectPriority" />
					<show id="pjt:completionPercent" />					
					<show id="pjt:projectScore" />					
					<show id="bcpg:code" />
					<show id="cm:name" />
					<show id="pjt:projectEntity" />
					<show id="dataList_pjt:taskList" />
					<show id="dataList_pjt:deliverableList" />
					<show id="pjt:projectManager" />
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectCompletionDate" />
					<show id="pjt:projectDueDate" />
					<show id="pjt:projectState" />
				</field-visibility>
				<appearance>
					<field id="dataList_pjt:deliverableList" label-id="becpg.forms.field.projects.datagrid.deliverableList.label" />
					<field id="dataList_pjt:taskList" label-id="becpg.forms.field.projects.datagrid.taskList.label" />
					<field id="pjt:projectStartDate" label-id="becpg.forms.field.projects.datagrid.projectStartDate.label"   />
				</appearance>

			</form>
			<form id="export">
				<field-visibility>
				    <show id="cm:name" />
				    <show id="bcpg:code" />				   
				    <show id="cm:title" force="true" />
                    <show id="cm:description" force="true" />
				    <show id="pjt:projectHierarchy1" />
				    <show id="pjt:projectHierarchy2" />
				    <show id="pjt:projectOrigin" />
					<show id="pjt:projectSponsor" />
					<show id="pjt:projectManager" />
					<show id="pjt:projectObservers" />		
					<show id="bcpg:entityTplRef" force="true"/>			
					<show id="pjt:projectEntity" />
					<show id="pjt:projectPriority" />
					<show id="pjt:projectState" />														
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectDueDate" />					
				</field-visibility>
			</form>	
				

			<form id="filter">
				<field-visibility>
					<show id="cm:name" />
					<show id="pjt:projectPriority"  />
					<show id="pjt:projectState" />
					<show id="pjt:projectHierarchy1" />
					<show id="pjt:projectHierarchy2" />
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectCompletionDate" />
					<show id="pjt:projectDueDate" />
				</field-visibility>
				<appearance>
					<set id="main" />
					<field id="cm:name"  set="main"/>
					<set id="mainInfo" template="/org/alfresco/components/form/2-column-set.ftl"  />
					<field id="pjt:projectPriority" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/selectone.ftl" >
							<control-param name="options">1|priority.high,2|priority.medium,3|priority.low</control-param>
							<control-param name="insertBlank">true</control-param>
						</control>
					</field>
					<field id="pjt:projectState" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="insertBlank">true</control-param>
						</control>
					</field>
					<field id="pjt:projectHierarchy1" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
						</control>
					</field>
					<field id="pjt:projectHierarchy2" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
							<control-param name="parent">pjt_projectHierarchy1
							</control-param>
						</control>
					</field>
					<set id="main2" />
					<field id="pjt:projectStartDate" set="main2">
						<control template="/org/alfresco/components/form/controls/daterange.ftl" />
					</field>
					<field id="pjt:projectCompletionDate" set="main2">
						<control template="/org/alfresco/components/form/controls/daterange.ftl" />
					</field>
					<field id="pjt:projectDueDate" set="main2">
						<control template="/org/alfresco/components/form/controls/daterange.ftl" />
					</field>
				</appearance>
			</form>
			
			
			<form id="search">
				<field-visibility>
					<show id="cm:name" />
					<show id="pjt:projectHierarchy1" />
					<show id="pjt:projectHierarchy2" />
					<show id="pjt:projectPriority" />
					<show id="pjt:projectStartDate" />
					<show id="pjt:projectCompletionDate" />
					<show id="pjt:projectDueDate" />
					<show id="pjt:projectState" />
					<show id="pjt:projectEntity" />
				</field-visibility>
				<appearance>
					<field id="pjt:projectHierarchy1" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
						</control>
					</field>
					<field id="pjt:projectHierarchy2" set="mainInfo" >
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/linkedvalue/values/System/ProjectLists/bcpg:entityLists/project_Hierarchy
							</control-param>
							<control-param name="parent">pjt_projectHierarchy1
							</control-param>
						</control>
					</field>
					<field id="pjt:projectPriority">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">1|priority.high,2|priority.medium,3|priority.low</control-param>
							<control-param name="insertBlank">true</control-param>
						</control>
					</field>
					<field id="pjt:projectState" >
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">Planned|data.taskstate.planned,InProgress|data.taskstate.inprogress,OnHold|data.taskstate.onhold,Cancelled|data.taskstate.cancelled,Completed|data.taskstate.completed
							</control-param>
							<control-param name="insertBlank">true</control-param>
						</control>
					</field>
				</appearance>
			</form>			

		</forms>
	</config>
	<config condition="pjt:taskLegend" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="bcpg:color" />
					<show id="bcpg:isDeleted" />
				</field-visibility>
				<appearance>
					<field id="bcpg:color">
						<control
							template="/org/alfresco/components/form/controls/selectcolorpicker.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjt:taskLegend" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="bcpg:color" />
					<show id="bcpg:isDeleted" />
				</field-visibility>
				<appearance>
					<field id="bcpg:color">
						<control
							template="/org/alfresco/components/form/controls/selectcolorpicker.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjt:taskList" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:tlTaskName" />
					<show id="cm:description" force="true" />
					<show id="pjt:tlPrevTasks" />
					<show id="bcpg:parentLevel" force="true" />
					<show id="pjt:tlRefusedTaskRef" />
					<show id="pjt:tlResources" />
					<show id="pjt:tlObservers" />
					<show id="pjt:tlTaskLegend" />					
					<show id="pjt:tlWorkflowName" />
					
					<show id="pjt:tlIsMilestone" />
					<show id="pjt:tlDuration" />					
					<show id="pjt:tlWork" />
					<show id="pjt:completionPercent" />			
					<show id="pjt:tlState" />											
					<show id="pjt:tlManualDate" />
					<show id="pjt:tlStart" />
					<show id="pjt:tlEnd"   />					
					<show id="pjt:tlFixedCost" />	
					<show id="pjt:tlResourceCost" />										
				</field-visibility>
				<appearance>
				
					<set id="mainInfo" appearance="bordered-panel"
						label-id="becpg.forms.set.designation.label" />
					<field id="pjt:tlTaskName" set="mainInfo"/>
					<field id="cm:description" set="mainInfo"/>
					<field id="pjt:tlPrevTasks" set="mainInfo">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
							<control-param name="urlParamsToPass">itemId</control-param>
						</control>
					</field>	
					<field id="bcpg:parentLevel" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:tlRefusedTaskRef" set="mainInfo">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
							<control-param name="urlParamsToPass">itemId</control-param>
						</control>
					</field>	
					<field id="pjt:tlResources" set="mainInfo"/>
					<field id="pjt:tlObservers" set="mainInfo"/>
					
					<set id="mainInfo2" parent="mainInfo"
					template="/org/alfresco/components/form/2-column-set.ftl" />
					<field id="pjt:tlTaskLegend" set="mainInfo2">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="style">width:180px</control-param>
						</control>
					</field>						
					<field id="pjt:tlWorkflowName" set="mainInfo2" >
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">,activiti$projectAdhoc|data.workflow.projectadhoc,activiti$projectNewProduct|data.workflow.projectnewproduct</control-param>
						</control>
					</field>
					
					<set id="planning" appearance="bordered-panel"
						label-id="becpg.forms.set.planning.label" template="/org/alfresco/components/form/2-column-set.ftl" />	
				
					<field id="pjt:tlIsMilestone" set="planning"/>
					<field id="pjt:tlDuration" set="planning"/>					
					<field id="pjt:tlWork" set="planning"/>		
					<field id="pjt:tlCapacity" read-only="true" set="planning"/>			
					<field id="pjt:tlState" set="planning"/>
					<field id="pjt:tlManualDate" set="planning"/>
					<field id="pjt:tlStart" set="planning"/>
					<field id="pjt:tlEnd" set="planning"/>				
					<field id="pjt:tlFixedCost" set="planning"/>
					<field id="pjt:tlResourceCost" set="planning">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
						</control>
					</field>										
					<field id="pjt:completionPercent" set="planning"/>
				</appearance>
			</form>
			<form id="simple-form">
				<field-visibility>
			 		<show id="pjt:tlTaskName" />
					<show id="cm:description" force="true" />
					<show id="pjt:tlState" />
					<show id="pjt:tlDuration" />					
					<show id="pjt:tlWork" />
					<show id="pjt:completionPercent" />
				</field-visibility>	
			</form>
		</forms>
	</config>
	<config condition="pjt:taskList" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:tlTaskName" />
					<show id="cm:description" force="true" />
					<show id="pjt:tlPrevTasks" />
					<show id="bcpg:parentLevel" force="true" />
					<show id="pjt:tlResources" />
					
					<show id="pjt:tlIsMilestone" />
					<show id="pjt:tlDuration" />					
					<show id="pjt:tlWork" />	
					<show id="pjt:tlFixedCost" />	
					<show id="pjt:tlResourceCost" />							
				</field-visibility>
				<appearance>
					
					<set id="mainInfo" appearance="bordered-panel"
						label-id="becpg.forms.set.designation.label" />													
					<field id="pjt:tlTaskName" set="mainInfo"/>
					<field id="cm:description" set="mainInfo"/>
					<field id="pjt:tlPrevTasks" set="mainInfo">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>		
					<field id="bcpg:parentLevel" set="mainInfo">
						<control template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:tlResources" set="mainInfo"/>					
					
					<set id="planning" appearance="bordered-panel"
						label-id="becpg.forms.set.planning.label" template="/org/alfresco/components/form/2-column-set.ftl" />		
					<field id="pjt:tlIsMilestone" set="planning"/>
					<field id="pjt:tlDuration" set="planning"/>					
					<field id="pjt:tlWork" set="planning"/>							
					<field id="pjt:tlFixedCost" set="planning"/>
					<field id="pjt:tlResourceCost" set="planning">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
						</control>
					</field>					
				</appearance>
			</form>
			<!-- Data Grid view -->
			<form id="filter">
				<field-visibility>
					<show id="pjt:tlIsMilestone" />
					<show force="true" id="pjt:tlResources" />
					<show id="pjt:tlTaskLegend" />					
					<show id="pjt:tlState" />
				</field-visibility>				
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="bcpg:depthLevel" />
					<show id="bcpg:parentLevel"  />
					<show id="pjt:tlIsGroup" />
					<show id="pjt:tlTaskName" />		
					<show id="pjt:tlStart" />
					<show id="pjt:tlEnd" />			
					<show id="pjt:tlIsMilestone" />					
					<show id="pjt:tlState" />
					<show id="pjt:tlDuration" />
					<show id="pjt:tlWork" />
					<show id="pjt:tlCapacity" />
					<show id="pjt:tlResources" />
					<show id="pjt:tlBudgetedCost" />
					<show id="pjt:tlLoggedTime" />
					<show id="pjt:completionPercent" />					
					<show id="pjt:tlTaskLegend" />																		
					<show id="pjt:tlPrevTasks" />										
					<show id="fm:commentCount" force="true"/>
				</field-visibility>
				<appearance>
					<field id="bcpg:depthLevel" label="hidden"/>
					<field id="bcpg:parentLevel" label="hidden"/>
					<field id="pjt:tlIsGroup" label="hidden"/>
					<field id="pjt:tlPrevTasks" label="hidden"/>
					<field id="fm:commentCount" label="hidden" read-only="true"/>
					<field id="pjt:tlIsMilestone" label="hidden" ></field>
					<field id="pjt:tlStart" read-only="true"/>
					<field id="pjt:tlEnd" read-only="true"/>
					<field id="pjt:tlCapacity" read-only="true"/>
					<field id="pjt:tlBudgetedCost" read-only="true"/>
					<field id="pjt:tlLoggedTime" read-only="true"/>
					<field id="pjt:tlTaskLegend" label="hidden" ></field>
				</appearance>
			</form>
			<form id="sub-datagrid">
				<field-visibility>
					<show id="pjt:tlTaskName" />
					<show id="pjt:tlIsMilestone" />
					<show id="pjt:tlDuration" />
					<show force="true" id="pjt:tlPrevTasks" />
					<show force="true" id="pjt:tlResources" />
					<show id="pjt:tlTaskLegend" />
					<show id="pjt:tlState" />
					<show id="pjt:completionPercent" />
					<show id="pjt:tlStart" />
					<show id="pjt:tlEnd" />
					<show id="pjt:tlWorkflowInstance" />
					<show id="fm:commentCount" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config condition="pjt:deliverableList" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:dlDescription" />
					<show id="pjt:dlTask" />
					<show id="pjt:dlContent" />
					<show id="pjt:dlUrl" />
					<show id="pjt:dlScriptExecOrder" />
					<show id="pjt:dlState" />
					<show id="pjt:completionPercent" />
				</field-visibility>
				<appearance>
					<field id="pjt:dlTask">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:dlState">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">Planned|data.deliverablestate.planned,InProgress|data.deliverablestate.inprogress,Completed|data.deliverablestate.completed,Closed|data.deliverablestate.closed
							</control-param>
						</control>
					</field>
					<field id="pjt:dlContent" mandatory="false" read-only="false">
		            <control template="/org/alfresco/components/form/controls/association.ftl">
		              <control-param name="startLocation">{ancestor}</control-param>
		              <control-param name="startLocationParams">aspect=bcpg:entityListsAspect</control-param>
		            </control>
		          </field>
		           <field id="pjt:dlScript">
	                  <control template="/org/alfresco/components/form/controls/textarea.ftl" />
	               </field>
					
				</appearance>
			</form>
			<form id="simple-form">
				<field-visibility>
					<show id="pjt:dlDescription" />
					<show id="pjt:dlContent" />
					<show id="pjt:dlState" />
					<show id="pjt:completionPercent" />
				</field-visibility>
				<appearance>
					<field id="pjt:dlDescription" read-only="true"/>
					<field id="pjt:dlState">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">InProgress|data.deliverablestate.inprogress,Completed|data.deliverablestate.completed</control-param>
						</control>
					</field>
					<field id="pjt:dlContent" mandatory="false" read-only="false">
			            <control template="/org/alfresco/components/form/controls/association.ftl">
			              <control-param name="startLocation">{ancestor}</control-param>
			              <control-param name="startLocationParams">aspect=bcpg:entityListsAspect</control-param>
			            </control>
			          </field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjt:deliverableList" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:dlDescription" />
					<show id="pjt:dlTask" />
					<show id="pjt:dlContent" />
					<show id="pjt:dlUrl" />
					<show id="pjt:dlState" />
					<show id="pjt:completionPercent" />
				</field-visibility>
				<appearance>
					<field id="pjt:dlTask">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:dlState">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">Planned|data.deliverablestate.planned,InProgress|data.deliverablestate.inprogress,Completed|data.deliverablestate.completed,Closed|data.deliverablestate.closed
							</control-param>
						</control>
					</field>
					<field id="pjt:dlContent" mandatory="false" read-only="false">
		            <control template="/org/alfresco/components/form/controls/association.ftl">
		              <control-param name="startLocation">{ancestor}</control-param>
		              <control-param name="startLocationParams">aspect=bcpg:entityListsAspect</control-param>
		            </control>
		          </field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="pjt:dlDescription" />
					<show id="pjt:dlTask" />
					<show id="pjt:dlContent" />
					<show id="pjt:dlUrl" />
					<show id="pjt:dlState" />
					<show id="pjt:completionPercent" />
					<show id="fm:commentCount" force="true"/>
				</field-visibility>
				<appearance>
				    <field id="pjt:dlUrl" label="hidden" read-only="true"/>
					<field id="fm:commentCount" label="hidden" read-only="true"/>
				</appearance>
			</form>
			<form id="sub-datagrid">
				<field-visibility>
					<show id="pjt:dlDescription" />
					<show id="pjt:dlTask" />
					<show id="pjt:dlContent" />
					<show id="pjt:dlUrl" />
					<show id="pjt:dlState" />
					<show id="fm:commentCount" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	
	<config condition="pjt:scoreList" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:slCriterion" />
					<show id="pjt:slWeight" />
					<show id="pjt:slScore" />
					<show id="pjt:slScreening" />
				</field-visibility>
				<appearance>
					<field id="pjt:slScreening">
                  <control template="/org/alfresco/components/form/controls/richtext.ftl">                  
                  <control-param name="editorHeight">8</control-param>
               </control>
               </field>					
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjt:scoreList" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show id="pjt:slCriterion" />
					<show id="pjt:slWeight" />
					<show id="pjt:slScore" />
					<show id="pjt:slScreening" />
				</field-visibility>
				<appearance>
					<field id="pjt:slScreening">
                  <control template="/org/alfresco/components/form/controls/richtext.ftl">                  
                  <control-param name="editorHeight">8</control-param>
               </control>
               </field>	
				</appearance>
			</form>
			<!-- Data Grid view -->
         <form id="datagrid">
            <field-visibility>
            	<show id="pjt:slCriterion" />
					<show id="pjt:slWeight" />
					<show id="pjt:slScore" />
					<show id="pjt:slScreening" />
            </field-visibility>
            <appearance>
            	<field id="pjt:slScreening" read-only="true" ></field>
            </appearance>
         </form>
		</forms>
	</config>
	
   <!-- pjt:requestList type create form config-->
   <config evaluator="model-type" condition="pjt:requestList">
      <forms>
         <!-- Create item form -->
         <form>
            <field-visibility>
               <show id="cm:title" />
               <show id="cm:description" />
               <show id="pjt:rlAssignedTo" />
               <show id="pjt:rlOrigin" />
               <show id="pjt:rlState" />               
               <show id="pjt:rlPriority" />               
               <show id="pjt:rlDueDate" />
               <show id="pjt:rlComments" />
               <show id="cm:attachments" />
             </field-visibility>
            <create-form template="../data-lists/forms/dataitem.ftl" />
            <appearance>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="pjt:rlComments">
                  <control template="/org/alfresco/components/form/controls/textarea.ftl" />
               </field>
               <field id="cm:attachments">
                  <control>
                    <control-param name="startLocation">{doclib}</control-param>
                  </control>
               </field>
            </appearance>
         </form>
         <!-- Data Grid view -->
         <form id="datagrid">
            <field-visibility>
            	<show id="cm:title" />
            	<show id="cm:likesRatingSchemeCount"/>
               <show id="cm:description" />
               <show id="pjt:rlAssignedTo" />
               <show id="pjt:rlOrigin" />
               <show id="pjt:rlState" />               
               <show id="pjt:rlPriority" />               
               <show id="pjt:rlDueDate" />
               <show id="cm:attachments" />
               <show id="cm:creator" />
               <show id="cm:created" />               
            </field-visibility>
         </form>
      </forms>
   </config>
   
   <!-- pjt:requestList type edit form config-->
   <config evaluator="node-type" condition="pjt:requestList">
      <forms>
         <!-- Create item form -->
         <form>
            <field-visibility>
               <show id="cm:title" />
               <show id="cm:description" />
               <show id="pjt:rlAssignedTo" />
               <show id="pjt:rlOrigin" />
               <show id="pjt:rlState" />               
               <show id="pjt:rlPriority" />               
               <show id="pjt:rlDueDate" />
               <show id="pjt:rlComments" />
               <show id="cm:attachments" />
             </field-visibility>
            <create-form template="../data-lists/forms/dataitem.ftl" />
            <appearance>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="pjt:rlComments">
                  <control template="/org/alfresco/components/form/controls/textarea.ftl" />
               </field>
               <field id="cm:attachments">
                  <control>
                    <control-param name="startLocation">{doclib}</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config condition="pjt:activityList" evaluator="model-type">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="pjt:alType" />
					<show id="pjt:alData" />
					<show id="pjt:alUserId" />
					<show id="pjt:alTaskId" />
					<show id="pjt:alDeliverableId" />
					<show id="cm:created" />
				</field-visibility>
				<appearance>
					<field id="pjt:alData"   read-only="true"/>
					<field id="pjt:alType" label="hidden" read-only="true" />
					<field id="pjt:alUserId"   label="hidden" read-only="true"/>
					<field id="pjt:alTaskId"   label="hidden" read-only="true"/>
					<field id="pjt:alDeliverableId"  label="hidden"  read-only="true" />
					<field id="cm:created"  label="hidden" read-only="true"/>
				</appearance>
			</form>
			<form id="filter">
				<field-visibility>
					<show id="pjt:alType" />
					<show id="pjt:alUserId" />
					<show id="pjt:alTaskId" />
					<show id="pjt:alDeliverableId" />
					<show id="cm:created" />
				</field-visibility>
				<appearance>
					<field id="pjt:alType">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
								<control-param name="isSearch">true</control-param>
								<control-param name="insertBlank">true</control-param>
						</control>
					</field>
					<field id="cm:create">
						<control
							template="/org/alfresco/components/form/controls/date.ftl">
						</control>
					</field>
					<field id="pjt:alUserId">
						<control
							template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=cm:person
							</control-param>
						</control>
					</field>
					<field id="pjt:alTaskId">
						<control
							template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:alDeliverableId">
						<control
							template="/org/alfresco/components/form/controls/autocomplete.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:deliverableList
							</control-param>
						</control>
					</field>
				</appearance>
			</form>					
		</forms>
	</config>

	<config condition="pjt:logTimeList" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="pjt:ltlTask" />
					<show force="false" id="pjt:ltlDate" />
					<show force="false" id="pjt:ltlTime" />
					<show force="false" id="pjt:ltlComment" />
					<show force="false" id="pjt:ltlType" />					
				</field-visibility>
				<appearance>														
					<field id="pjt:ltlTask" mandatory="false" read-only="false">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>
					<field id="pjt:ltlComment" mandatory="false" read-only="false">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjt:logTimeList" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="pjt:ltlTask" />
					<show force="false" id="pjt:ltlDate" />
					<show force="false" id="cm:creator" for-mode="view" />
					<show force="false" id="pjt:ltlTime" />
					<show force="false" id="pjt:ltlComment" />
					<show force="false" id="pjt:ltlType" />
				</field-visibility>
				<appearance>
					<field id="pjt:ltlTask" mandatory="false" read-only="false">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
							<control-param name="ds">becpg/autocomplete/TaskValue?className=pjt:taskList
							</control-param>
						</control>
					</field>					
					<field id="pjt:ltlComment" mandatory="false" read-only="false">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
				</appearance>
			</form>		
		</forms>
	</config>
	<config condition="pjt:resourceCost" evaluator="node-type">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="pjt:resourceCostValue" />
					<show id="pjt:resourceCostHoursPerDay" />
					<show id="bcpg:isDeleted" />
				</field-visibility>
			</form>
		</forms>
	</config>
	<config condition="pjt:resourceCost" evaluator="model-type">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="pjt:resourceCostValue" />
					<show id="pjt:resourceCostHoursPerDay" />
					<show id="bcpg:isDeleted" />
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>
