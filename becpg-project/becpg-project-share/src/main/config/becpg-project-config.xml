<!--
  Copyright (C) 2010-2014 beCPG. 
   
  This file is part of beCPG 
   
  beCPG is free software: you can redistribute it and/or modify 
  it under the terms of the GNU Lesser General Public License as published by 
  the Free Software Foundation, either version 3 of the License, or 
  (at your option) any later version. 
   
  beCPG is distributed in the hope that it will be useful, 
  but WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
  GNU Lesser General Public License for more details. 
   
  You should have received a copy of the GNU Lesser General Public License along with beCPG. If not, see <http://www.gnu.org/licenses/>.
-->
<alfresco-config>

	<config>
		<forms>
			<default-controls>
				<type name="association:pjt:project" template="/org/alfresco/components/form/controls/autocomplete-association.ftl">
					<control-param name="pageLinkTemplate">entity-details?nodeRef={nodeRef}</control-param>
					<control-param name="ds">becpg/autocomplete/targetassoc/associations/pjt:project?excludeClassNames=bcpg:entityTplAspect</control-param>
				</type>
				<type name="association:pjt:taskList" template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
				<type name="association:pjt:taskLegend" template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
			</default-controls>
		</forms>
	</config>
	
	<config evaluator="string-compare" condition="SitePages">
      <pages>
         <page id="calendar">calendar</page>
         <page id="wiki-page">wiki-page?title=Main_Page</page>
         <page id="documentlibrary">documentlibrary</page>
         <page id="discussions-topiclist">discussions-topiclist</page>
         <page id="blog-postlist">blog-postlist</page>
         <page id="links">links</page>
         <page id="data-lists">data-lists</page>
         <page id="project-list">project-list#filter=projects|InProgress</page>
      </pages>
   </config>
   
   
   <alfresco-config>
   <config evaluator="string-compare" condition="Search">
      <!-- beCPG -->
      <metadata>
			<show id="pjt:project" />
      </metadata>
   </config>

   
	<config evaluator="string-compare" condition="AdvancedSearch">
		<advanced-search>
			<!-- Forms for the advanced search type list -->
			<forms>
				<form labelId="search.form.label.pjt_project" descriptionId="search.form.desc.pjt_project">pjt:project</form>
			</forms>
		</advanced-search>
	</config>
	
</alfresco-config>
   
   
   <!-- Define elements that are bulk editable -->
	<config evaluator="string-compare" condition="bulk-edit">
		<itemTypes>
			<itemType name="pjt:project" />
			<itemType name="cm:content" />
		</itemTypes>
	</config>


	<config evaluator="string-compare" condition="DocumentLibrary">
		<aspects>
			<visible>

				<aspect name="pjt:projectAspect" />

			</visible>

			<!-- Aspects that a user can add. Same as "visible" if left empty -->
			<addable>
			</addable>

			<!-- Aspects that a user can remove. Same as "visible" if left empty -->
			<removeable>
			</removeable>
		</aspects>

		<types>
			<type name="cm:content">

				<subtype name="pjt:project" />
			</type>

		</types>

		<indicators>
			<indicator id="project-planned" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.project.planned</evaluator>
			</indicator>
			<indicator id="project-inprogress" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.project.inprogress</evaluator>
			</indicator>
			<indicator id="project-onhold" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.project.onhold</evaluator>
			</indicator>
			<indicator id="project-cancelled" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.project.cancelled</evaluator>
			</indicator>
			<indicator id="project-completed" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.project.completed</evaluator>
			</indicator>
		</indicators>

	</config>

</alfresco-config>
