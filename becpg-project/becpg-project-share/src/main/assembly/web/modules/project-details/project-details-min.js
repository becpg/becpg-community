(function(){beCPG.component.ProjectDetails=function(b){beCPG.component.ProjectDetails.superclass.constructor.call(this,"beCPG.component.ProjectDetails",b,["button","container"]);var c=this;YAHOO.Bubbling.addDefaultAction("filter-details-action",this.onFilterDetailsAction);return this};YAHOO.extend(beCPG.component.ProjectDetails,Alfresco.component.Base,{options:{entityNodeRef:"",graphData:[]},onReady:function a(){var b=this;require(dojoConfig,["bccc"],function(d){var e={resultset:b.options.graphData,metadata:[{colIndex:0,colType:"String",colName:b.msg("projectdetails.graph.xaxis")},{colIndex:1,colType:"Numeric",colName:b.msg("projectdetails.graph.yaxis")}]};var c=new d.StackedAreaChart({canvas:b.id+"-chart",width:430,height:150,animate:true,selectable:false,hoverable:true,tooltipEnabled:false,axisGrid:true,nullInterpolationMode:"linear",extensionPoints:{area_interpolate:"cardinal",axisGrid_strokeStyle:"lightgray"},orthoAxisVisible:true,orthoAxisTitle:b.msg("projectdetails.graph.yaxis"),baseAxisVisible:true,colors:["rgba(107, 210, 169, 0.6)"],focusWindowBaseConstraint:function(m){if(m.type==="new"&&m.length0===m.length){var p=(m.max-m.min)/4;var s=((+m.max)+(+m.min))/2;m.value=new Date(s-p/2);m.length=p}var r=d.time;var g=r.weekday;var h=r.intervals.d;var j=m.target==="end"?-1:+1;var n=+m.value;var q=g.closestOrSelf(r.withoutTime(m.value));m.min=g.previousOrSelf(r.withoutTime(m.minView));m.max=g.previousOrSelf(r.withoutTime(m.maxView));if(m.type==="new"){m.value=q;m.length=Math.max(m.length,h);return}var k=+m.length;var f=n+j*k;k=j*(f-q);if(k<h){q=f-j*h}m.value=q},}).setData(e,{crosstabMode:false}).render()})},onFilterDetailsAction:function(g,f){var c=YAHOO.Bubbling.getOwnerByTagName(f[1].anchor,"span");if(c!==null){f[1].stop=true;var e=c.id;var b=e.split("#")[0],h=e.split("#")[1];var d=Dom.getElementsByClassName(b);for(i in d){Dom.removeClass(d[i],"hidden");if(!Dom.hasClass(d[i],h)){Dom.addClass(d[i],"hidden")}}}},})})();