var g=null;(function(){var c=YAHOO.Bubbling;var e=Alfresco.util.isValueSet;beCPG.module.GanttViewRenderer=function(){c.on("registerGanttRenderer",this.onRegisterGanttRenderer,this)};YAHOO.lang.augmentObject(beCPG.module.GanttViewRenderer.prototype,{ganttRenderers:{},onRegisterGanttRenderer:function b(i,h){var j=h[1];if(j&&e(j.typeName)){this.ganttRenderers[j.typeName]=j}}});beCPG.module.GanttViewRendererHelper=new beCPG.module.GanttViewRenderer();beCPG.component.GanttView=function(h){beCPG.component.GanttView.superclass.constructor.call(this,h);c.on("viewModeChange",this.onViewModeChange,this);c.on("dirtyDataTable",function(){YAHOO.Bubbling.fire("refreshDataGrids",{updateOnly:true})},this);JSGantt.register(this);return this};YAHOO.extend(beCPG.component.GanttView,beCPG.module.EntityDataGrid);YAHOO.lang.augmentProto(beCPG.component.GanttView,beCPG.component.ProjectCommons);YAHOO.lang.augmentObject(beCPG.component.GanttView.prototype,{view:"gantt",taskLegends:[],ganttRenderers:{},cache:[],onDatalistColumns:function f(h){var j=this;if(g==null){var i=this.options.itemType!=null?this.options.itemType:this.datalistMeta.itemType;if(beCPG.module.GanttViewRendererHelper.ganttRenderers.hasOwnProperty(i)){var k=beCPG.module.GanttViewRendererHelper.ganttRenderers[i];k.ganttInitialiser.call(this,function(){beCPG.component.GanttView.superclass.onDatalistColumns.call(j,h)});return}}beCPG.component.GanttView.superclass.onDatalistColumns.call(j,h)},onViewModeChange:function d(){if(this.view=="dataTable"){this.view="gantt"}else{this.view="dataTable"}this.refreshView()},refreshView:function a(){if(this.view=="gantt"){Dom.addClass(this.id+"-datagridBarBottom","hidden");Dom.addClass(this.id+"-itemSelect-div","hidden");Dom.addClass(this.id+"-grid","hidden");Dom.removeClass(this.id+"-gantt","hidden");Dom.removeClass(this.id+"-legend","hidden");this.cache=[];g.Draw();g.DrawDependencies()}else{Dom.addClass(this.id+"-gantt","hidden");Dom.addClass(this.id+"-legend","hidden");Dom.removeClass(this.id+"-grid","hidden");Dom.removeClass(this.id+"-datagridBarBottom","hidden");Dom.removeClass(this.id+"-itemSelect-div","hidden");YAHOO.Bubbling.fire("refreshFloatingHeader")}}},true)})();