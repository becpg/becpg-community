<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
   
   <!-- CSV -->
   <bean parent="webscripts.formatmap">
	      <property name="formats">
	            <props>
	                  <prop key="csv">application/vnd.ms-excel</prop>
	            </props>
	      </property>
	</bean>
   
   	<!-- Admin -->
   	<bean id="webscript.fr.becpg.admin.adminModule.get" class="fr.becpg.repo.web.scripts.admin.AdminModuleWebScript" parent="webscript">
      	<property name="initRepoVisitor" ref="initRepoVisitor" />
     		<property name="repository" ref="repositoryHelper" />
      	<property name="siteService" ref="siteService" />
      	<property name="initSiteVisitor" ref="initSiteVisitor" />
      	<property name="initDemoVisitor" ref="initDemoVisitor"/>     
   	</bean>
   	<bean id="webscript.fr.becpg.admin.reloadModels.get" class="fr.becpg.repo.web.scripts.admin.ReloadModelsWebScript" parent="webscript">
      	<property name="dictionaryDAO" ref="dictionaryDAO" />
   	</bean>

   
   	<!-- ListValue -->
   	<bean id="webscript.fr.becpg.autoComplete.get" class="fr.becpg.repo.web.scripts.listvalue.AutoCompleteWebScript" parent="webscript">
      	<property name="listValueService" ref="listValueService" />
      	<property name="namespaceService" ref="namespaceService"/>
   	</bean>
   
   	<!-- Entity lists -->
   	<bean id="webscript.fr.becpg.entity.entityLists.get" class="fr.becpg.repo.web.scripts.entity.EntityListsWebScript" parent="webscript">      	     
      	<property name="securityService" ref="securityService" />
      	<property name="nodeService" ref="nodeService" />      	
      	<property name="entityListDAO" ref="entityListDAO" />
      	<property name="entityTplService" ref="entityTplService" />
      	<property name="entityDictionaryService" ref="entityDictionaryService" />   
      	<property name="namespaceService" ref="namespaceService"/>  
      	<property name="transactionService" ref="transactionService"/> 	
  		</bean>
  	 
   	<!-- Product formulate -->
  		<bean id="webscript.fr.becpg.product.productFormulation.get" class="fr.becpg.repo.web.scripts.product.FormulateWebScript" parent="webscript">
   		<property name="productService" ref="productService" />
   	</bean>
   	
   	<!-- Entity report -->
   	<bean id="webscript.fr.becpg.entity.entityReport.get" class="fr.becpg.repo.web.scripts.entity.ReportWebScript" parent="webscript">      	
			<property name="nodeService" ref="nodeService" />
			<property name="entityService" ref="entityService" />
   	</bean>
         
   	<!-- Entity where used -->
  		<bean id="webscript.fr.becpg.entity.entityWUsed.post" class="fr.becpg.repo.web.scripts.entity.EntityWUsedWebScript" parent="webscript">
   		<property name="productService" ref="productService" />
   		<property name="productDictionaryService" ref="productDictionaryService"/>
   	</bean>
   	
   	<!-- Entity checkout -->
  		<bean id="webscript.fr.becpg.entity.checkout.post" class="fr.becpg.repo.web.scripts.entity.CheckOutWebScript" parent="webscript">   		
   		<property name="entityCheckOutCheckInService" ref="entityCheckOutCheckInService" />
   	</bean>
   	
   	<!-- Entity checkin -->
  		<bean id="webscript.fr.becpg.entity.checkin.post" class="fr.becpg.repo.web.scripts.entity.CheckInWebScript" parent="webscript">   		
   		<property name="entityCheckOutCheckInService" ref="entityCheckOutCheckInService" />
   	</bean>
   	
   	<!-- Entity cancel-checkout -->
  		<bean id="webscript.fr.becpg.entity.cancel-checkout.post" class="fr.becpg.repo.web.scripts.entity.CancelCheckOutWebScript" parent="webscript">   		
   		<property name="entityCheckOutCheckInService" ref="entityCheckOutCheckInService" />
   	</bean>
   	
   	<!-- Entity new version form -->
  		<bean id="webscript.fr.becpg.entity.form-checkin.post" class="fr.becpg.repo.web.scripts.entity.FormCheckInWebScript" parent="webscript">   		
   		<property name="entityCheckOutCheckInService" ref="entityCheckOutCheckInService" />
   	</bean>
      	
   	<!-- Document web scripts : override share webscript -->
  		<bean id="webscript.fr.becpg.document.form-revert-version.post" class="fr.becpg.repo.web.scripts.document.FormRevertVersionWebScript" parent="webscript">   		
   		<property name="entityVersionService" ref="entityVersionService" />
   		<property name="entityCheckOutCheckInService" ref="entityCheckOutCheckInService" />
   	</bean>
   	<bean id="webscript.fr.becpg.document.version-history.get" class="fr.becpg.repo.web.scripts.document.VersionHistoryWebScript" parent="webscript">   		
   		<property name="entityVersionService" ref="entityVersionService" />
   		<property name="nodeService" ref="nodeService" />
   		<property name="versionService" ref="versionService" />
   		<property name="personService" ref="personService" />
   		<property name="dictionaryService" ref="dictionaryService"/>
   	</bean>
   	
   	<!-- Compare entities -->
  		<bean id="webscript.fr.becpg.entity.compareEntityReport.get" class="fr.becpg.repo.web.scripts.entity.CompareEntityReportWebScript" parent="webscript">
   		<property name="compareEntityReportService" ref="compareEntityReportService" />
   		<property name="mimetypeService" ref="mimetypeService" />
   	</bean>
   	
   	<!-- Export search -->
  		<bean id="webscript.fr.becpg.report.exportSearch.get" class="fr.becpg.repo.web.scripts.report.ExportSearchWebScript" parent="webscript">
   		<property name="exportSearchService" ref="exportSearchService" />
   		<property name="mimetypeService" ref="mimetypeService" />
   		<property name="advSearchService" ref="advSearchService" />
   		<property name="namespaceService" ref="namespaceService" />
   		<property name="reportTplService" ref="reportTplService" />
   	</bean>
  		<bean id="webscript.fr.becpg.report.exportSearchTpls.get" class="fr.becpg.repo.web.scripts.report.ExportSearchTplsWebScript" parent="webscript">
   		<property name="namespaceService" ref="namespaceService" />
   		<property name="reportTplService" ref="reportTplService" />
   	</bean>
   	
   	<!-- Debug -->
   	<bean id="webscript.fr.becpg.debug.restoreArchivedNode.get" class="fr.becpg.repo.web.scripts.debug.RestoreArchivedNodeWebScript" parent="webscript">
      	<property name="nodeService" ref="nodeService" />      	
			<property name="searchService" ref="searchService" />
			<property name="fileFolderService" ref="fileFolderService" />
			<property name="transactionService" ref="transactionService" />
			<property name="repositoryHelper" ref="repositoryHelper" />
			<property name="dictionaryDAO" ref="dictionaryDAO" />
			<property name="repoService" ref="repoService" />
			<property name="policyBehaviourFilter" ref="policyBehaviourFilter" />
   	</bean>
   	
   	<!-- Migration -->
   	<bean id="webscript.fr.becpg.migration.migrateRepository.get" class="fr.becpg.repo.web.scripts.migration.MigrateRepositoryWebScript" parent="webscript">
      	<property name="nodeService" ref="nodeService" />      	
			<property name="searchService" ref="searchService" />
			<property name="fileFolderService" ref="fileFolderService" />
			<property name="repositoryHelper" ref="repositoryHelper" />
			<property name="repoService" ref="repoService" />
			<property name="policyBehaviourFilter" ref="policyBehaviourFilter" />
			<property name="dictionaryService" ref="dictionaryService" />
   	</bean>
   	
   	<!-- NPD -->
   	
   	  <!-- Retrieves all npd instances. -->
    <bean id="webscript.fr.becpg.workflow.npd-instances.get"
          class="fr.becpg.repo.web.scripts.workflow.NpdInstancesGet"
          parent="webscript">
     	 <property name="namespaceService" ref="NamespaceService" />
        <property name="nodeService" ref="NodeService" />
        <property name="personService" ref="PersonService" />
        <property name="dictionaryService" ref="DictionaryService" />
        <property name="authenticationService" ref="AuthenticationService" />
        <property name="authorityService" ref="AuthorityService" />
        <property name="workflowService" ref="WorkflowService" />     
    </bean>

</beans>