<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

	<bean id="bSearchScript" parent="baseJavaScriptExtension" class="fr.becpg.repo.jscript.Search">
        <property name="extensionName">
            <value>bSearch</value>
        </property> 
        <property name="serviceRegistry">
            <ref bean="ServiceRegistry"/>
        </property>
        <property name="advSearchService">
            <ref bean="AdvSearchService"/>
        </property>
    </bean>
    
    <bean id="thumbnailScript" parent="baseJavaScriptExtension" class="fr.becpg.repo.jscript.Thumbnail">
        <property name="extensionName">
            <value>bThumbnail</value>
        </property> 
        	<property name="entityService" ref="entityService" />
			<property name="beCPGSearchService" ref="beCPGSearchService" />
			<property name="nodeService" ref="nodeService" />
			<property name="beCPGCacheService" ref="beCPGCacheService" />
			<property name="serviceRegistry" ref="ServiceRegistry"/>
    </bean>
    
    
    <!-- Override Alfresco -->
    
    <bean id="jsonConversionComponent" class="fr.becpg.repo.jscript.app.BeCPGJSONConversionComponent" parent="baseJsonConversionComponent">
    	<property name="associationService" ref="associationService"/>
    	<property name="dictionaryService" ref="dictionaryService"/>
    </bean>
    
    <bean id="baseAssocDecorator" abstract="true" init-method="init">
        <property name="nodeService" ref="NodeService"/>
        <property name="namespaceService" ref="NamespaceService"/>
        <property name="permissionService" ref="PermissionService"/>
        <property name="jsonConversionComponent" ref="jsonConversionComponent"/>
    </bean>
    
</beans>