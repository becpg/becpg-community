<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN 2.0//EN' 'http://www.springframework.org/dtd/spring-beans-2.0.dtd'>

<beans>
    
    <!-- Quality -->
   
    <bean id="qualityControlService" class="fr.becpg.repo.quality.impl.QualityControlServiceImpl">
    	<property name="nodeService" ref="nodeService"/>
		<property name="alfrescoRepository" ref="alfrescoRepository" />
    </bean>    
    <bean id="qualityControlPolicies" class="fr.becpg.repo.quality.policy.QualityControlPolicies" init-method="init">
		<property name="policyComponent" ref="policyComponent" />
		<property name="qualityControlService" ref="qualityControlService" />		
	</bean>

    <bean id="nonConformityService" class="fr.becpg.repo.quality.impl.NonConformityServiceImpl">
		<property name="repoService" ref="repoService" />				
		<property name="repositoryHelper" ref="repositoryHelper" />				
	</bean>
    <bean id="nonConformityPolicies" class="fr.becpg.repo.quality.policy.NonConformityPolicies" init-method="init">
		<property name="policyComponent" ref="policyComponent" />
		<property name="alfrescoRepository" ref="alfrescoRepository" />
		<property name="nonConformityService" ref="nonConformityService" />					
	</bean>	
   <!-- Extractor -->
	<bean id="defaultNonConformityReportExtractor" class="fr.becpg.repo.quality.report.DefaultNonConformityReportExtractor">
		<property name="dictionaryService" ref="dictionaryService" />
		<property name="namespaceService" ref="namespaceService" />		
		<property name="attributeExtractorService" ref="attributeExtractorService" />
		<property name="nodeService" ref="nodeService" />
		<property name="entityService" ref="entityService"/>
		<property name="alfrescoRepository" ref="alfrescoRepository" />	
		<property name="versionService" ref="versionService"/>	
	</bean>	
	<bean id="defaultNonConformityExtractorPlugin" class="fr.becpg.repo.report.entity.ExtractorPlugin" init-method="init">
		<property name="entityReportService" ref="entityReportService"/>
		<property name="extractor" ref="defaultNonConformityReportExtractor"/>
		<property name="typeName" value="nc"/>
	</bean>
	
	<!-- Workflow -->
	<bean id="CreateNC" parent="baseJavaDelegate" class="fr.becpg.repo.workflow.activiti.nc.CreateNC">
		<property name="nodeService" ref="nodeService"/>
    	<property name="fileFolderService" ref="fileFolderService"/>
    	<property name="nonConformityService" ref="nonConformityService"/>
    	<property name="autoNumService" ref="autoNumService" />
    </bean>    
</beans>
