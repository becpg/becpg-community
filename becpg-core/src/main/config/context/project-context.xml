<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN 2.0//EN' 'http://www.springframework.org/dtd/spring-beans-2.0.dtd'>

<beans>

	<bean id="projectDAO" class="fr.becpg.repo.project.impl.ProjectDAOImpl">
		<property name="nodeService" ref="nodeService" />
		<property name="entityListDAO" ref="entityListDAO" />
		<property name="associationService" ref="associationService" />
	</bean>

	<bean id="projectService" class="fr.becpg.repo.project.impl.ProjectServiceImpl">
		<property name="projectDAO" ref="projectDAO" />
		<property name="workflowService" ref="WorkflowService" />
		<property name="associationService" ref="associationService" />
		<property name="nodeService" ref="nodeService" />
		<property name="beCPGSearchService" ref="beCPGSearchService" />
		<property name="repoService" ref="repoService" />
		<property name="planningVisitor" ref="planningVisitor" />
		<property name="taskStateVisitor" ref="taskStateVisitor" />
	</bean>
	
	<bean id="planningVisitor" class="fr.becpg.repo.project.impl.PlanningVisitor">
	</bean>
	
	<bean id="taskStateVisitor" class="fr.becpg.repo.project.impl.TaskStateVisitor">
		<property name="workflowService" ref="WorkflowService" />
		<property name="nodeService" ref="nodeService" />
	</bean>

	<!-- Policy -->
	<bean id="projectListPolicy" class="fr.becpg.repo.project.policy.ProjectListPolicy"
		parent="abstractBeCPGPolicy">
		<property name="projectService" ref="projectService" />
		<property name="wUsedListService" ref="wUsedListService" />
	</bean>
	<bean id="projectPolicy" class="fr.becpg.repo.project.policy.ProjectPolicy"
		parent="abstractBeCPGPolicy">
		<property name="entityListDAO" ref="entityListDAO" />
		<property name="projectService" ref="projectService" />
		<property name="associationService" ref="associationService" />
		<property name="copyService" ref="copyService" />
	</bean>

	<bean id="taskValuePlugin" parent="baseListValuePlugin"
		init-method="init" class="fr.becpg.repo.project.listvalue.TaskValuePlugin">
		<property name="namespaceService" ref="namespaceService" />
		<property name="nodeService" ref="nodeService" />
		<property name="beCPGSearchService" ref="beCPGSearchService" />
		<property name="dictionaryDAO" ref="dictionaryDAO" />
	</bean>

	<!-- Workflow -->
	<bean id="CreateProduct" parent="baseJavaDelegate" class="fr.becpg.repo.workflow.activiti.project.CreateProduct">
		<property name="nodeService" ref="nodeService"/>
    	<property name="fileFolderService" ref="fileFolderService"/>
    	<property name="productDAO" ref="productDAO"/>
    	<property name="entityService" ref="entityService"/>
    	<property name="productService" ref="productService"/>
    	<property name="policyBehaviourFilter" ref="policyBehaviourFilter"/>
    	<property name="repoService" ref="repoService"/>
    </bean> 

</beans>
