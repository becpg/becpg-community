<?xml version="1.0" encoding="UTF-8"?>
<!-- Definition of new Model -->
<model name="bcpg:bcpgmodel" xmlns="http://www.alfresco.org/model/dictionary/1.0">
	<!-- Optional meta-data about the model -->
	<description>beCPG Model</description>
	<author>QUERE</author>
	<version>1.0</version>
	<!-- Imports are required to allow references to definitions in other models -->
	<imports>
		<!-- Import Alfresco Dictionary Definitions -->
		<import uri="http://www.alfresco.org/model/dictionary/1.0"
			prefix="d" />
		<!-- Import Alfresco Content Domain Model Definitions -->
		<import uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
		<import uri="http://www.bcpg.fr/model/report/1.0" prefix="rep" />
	</imports>
	<!-- Introduction of new namespaces defined by this model -->
	<namespaces>
		<namespace uri="http://www.bcpg.fr/model/becpg/1.0" prefix="bcpg" />
	</namespaces>

	<constraints>
		<constraint name="bcpg:autoNumPrefix" type="REGEX">
			<parameter name="expression">
				<value>[A-Z]*</value>
			</parameter>
			<parameter name="requiresMatch">
				<value>true</value>
			</parameter>
		</constraint>
		<constraint name="bcpg:systemState" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>ToValidate</value>
					<value>Valid</value>
					<value>Refused</value>
					<value>Archived</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:entityDataListStates" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>ToValidate</value>
					<value>Valid</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:productUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>kg</value>
					<value>L</value>
					<value>P</value>
					<value>m</value>
					<value>m2</value>
					<value>m3</value>
					<value>h</value>
				</list>
			</parameter>
		</constraint>

		<constraint name="bcpg:ingType"
			type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/IngTypes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>cm:name</value>
			</parameter>
		</constraint>
		<constraint name="bcpg:nutGroup"
			type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/NutGroups</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>cm:name</value>
			</parameter>
		</constraint>
		<constraint name="bcpg:nutType"
			type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/NutTypes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>cm:name</value>
			</parameter>
		</constraint>
		<constraint name="bcpg:nutUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>-</value>
					<value>g</value>
					<value>mg</value>
					<value>kJ</value>
					<value>kcal</value>
					<value>µg</value>
					<value>IU</value>
					<value>mcg_DFE</value>
				</list>
			</parameter>
		</constraint>

		<constraint name="bcpg:nutListUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>-/100g</value>
					<value>g/100g</value>
					<value>mg/100g</value>
					<value>kJ/100g</value>
					<value>kcal/100g</value>
					<value>µg/100g</value>
					<value>IU/100g</value>
					<value>mcg_DFE/100g</value>					
					<value>-/100mL</value>
					<value>g/100mL</value>
					<value>mg/100mL</value>
					<value>kJ/100mL</value>
					<value>kcal/100mL</value>
					<value>µg/100mL</value>
					<value>IU/100mL</value>
					<value>mcg_DFE/100mL</value>					
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:nutListMethods"
			type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/NutFactsMethods</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>cm:name</value>
			</parameter>
		</constraint>
		<constraint name="bcpg:allergenType" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>Major</value>
					<value>Minor</value>					
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:declarationTypes" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>Declare</value>
					<value>Detail</value>
					<value>Group</value>
					<value>Omit</value>
					<value>DoNotDeclare</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:currency" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>€</value>
					<value>$</value>
					<value>£</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:compoListUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>kg</value>
					<value>g</value>
					<value>L</value>
					<value>mL</value>
					<value>P</value>
					<value>m</value>
					<value>m2</value>
					<value>Perc</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:costListUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>€</value>
					<value>€/L</value>
					<value>€/kg</value>
					<value>€/P</value>
					<value>€/m</value>
					<value>€/m2</value>
					<value>€/h</value>
					<value>$</value>
					<value>$/L</value>
					<value>$/kg</value>
					<value>$/P</value>
					<value>$/m</value>
					<value>$/m2</value>
					<value>$/h</value>
					<value>£</value>
					<value>£/L</value>
					<value>£/kg</value>
					<value>£/P</value>
					<value>£/m</value>
					<value>£/m2</value>
					<value>£/h</value>
				</list>
			</parameter>
		</constraint>

		<constraint name="bcpg:physicoChemUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>L</value>
					<value>mL</value>
					<value>kg</value>
					<value>g</value>
					<value>m</value>
					<value>mm</value>
					<value>m2</value>
					<value>m3</value>
					<value>P</value>
					<value>%</value>
					<value>°C</value>
					<value>-</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:microbioUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>UFC/cm²</value>
					<value>UFC/25cm²</value>
					<value>UFC/g</value>
					<value>UFC/10g</value>
					<value>UFC/25g</value>
					<value>UFC/50g</value>
					<value>UFG/g</value>
					<value>UFG/L</value>
					<value>/g</value>
					<value>/1g</value>
					<value>/10g</value>
					<value>/25g</value>
					<value>/100cm²</value>
					<value>/100cm² n=50 c=2</value>
					<value>-</value>
				</list>
			</parameter>
		</constraint>

		<!-- <constraint name="bcpg:plant" type="fr.becpg.repo.dictionary.constraint.DynListConstraint"> 
			<parameter name="path"> <list> <value>System/Plants</value> </list> </parameter> 
			<parameter name="constraintType"> <value>bcpg:plant</value> </parameter> 
			<parameter name="constraintProp"> <value>cm:name</value> </parameter> </constraint> -->
		<!-- <constraint name="bcpg:plant" type="LIST"> <parameter name="allowedValues"> 
			<list> <value>Formulation</value> <value>Site A</value> <value>Site B</value> 
			<value>Site C</value> <value></value> </list> </parameter> </constraint> -->
		<constraint name="bcpg:packagingListUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>P</value>
					<value>PP</value>
					<value>m</value>
					<value>m2</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:packagingLevel" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>Primary</value>
					<value>Secondary</value>
					<value>Tertiary</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:reqTypes" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>Forbidden</value>
					<value>Tolerated</value>
					<value>Info</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:nullableBoolean" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>true</value>
					<value>false</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="bcpg:labelClaimTypes" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>Nutritionnelle</value>
					<value>Santé</value>
					<value>Environnementale</value>
					<value>Qualité</value>
				</list>
			</parameter>
		</constraint>
			<constraint name="bcpg:dynamicCharactColumns" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value></value>
					<value>bcpg_dynamicCharactColumn1</value>
					<value>bcpg_dynamicCharactColumn2</value>
					<value>bcpg_dynamicCharactColumn3</value>
					<value>bcpg_dynamicCharactColumn4</value>
					<value>bcpg_dynamicCharactColumn5</value>
				</list>
			</parameter>
		</constraint>
	</constraints>

	<types>
		<!-- _________________________________________________ PRODUCTS________________________________________________ -->

		<type name="bcpg:productSpecification">
			<parent>bcpg:entityV2</parent>
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:productMicrobioCriteria">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="bcpg:pmcRegulation">
					<type>d:text</type>
				</property>
				<property name="bcpg:pmcConcernedProducts">
					<type>d:text</type>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:product">
			<parent>bcpg:entityV2</parent>
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:legalNameAspect</aspect>
				<aspect>bcpg:productAspect</aspect>
				<aspect>bcpg:entityTplRefAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
				<aspect>rep:reportEntityAspect</aspect>
			</mandatory-aspects>			
		</type>
		<type name="bcpg:finishedProduct">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
				<aspect>bcpg:eanAspect</aspect>
				<aspect>bcpg:transformationAspect</aspect>
				<aspect>bcpg:clientsAspect</aspect>
				<aspect>bcpg:productMicrobioCriteriaAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="bcpg:semiFinishedProduct">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
				<aspect>bcpg:transformationAspect</aspect>
				<aspect>bcpg:productMicrobioCriteriaAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="bcpg:localSemiFinishedProduct">
			<parent>bcpg:product</parent>
		</type>
		<type name="bcpg:rawMaterial">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
				<aspect>bcpg:eanAspect</aspect>
				<aspect>bcpg:suppliersAspect</aspect>
				<aspect>bcpg:productMicrobioCriteriaAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="bcpg:packagingKit">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
			</mandatory-aspects>
		</type>
		<type name="bcpg:packagingMaterial">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
				<aspect>bcpg:eanAspect</aspect>
				<aspect>bcpg:suppliersAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="bcpg:resourceProduct">
			<parent>bcpg:product</parent>
			<mandatory-aspects>
				<aspect>bcpg:eanAspect</aspect>
				<aspect>bcpg:suppliersAspect</aspect>
			</mandatory-aspects>
		</type>
		<!-- ________________________________________________________________ CARACTERISTIQUES 
			________________________________________________________________ -->


		<type name="bcpg:charact">
			<parent>bcpg:entityListItem</parent>
			<mandatory-aspects>
				<aspect>bcpg:legalNameAspect</aspect>
				<aspect>bcpg:isDeletedAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:allergen">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:allergenCode">
					<type>d:text</type>
				</property>
				<property name="bcpg:allergenType">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<constraints>
						<constraint ref="bcpg:allergenType" />
					</constraints>
				</property>
			</properties>
			<associations>
				<association name="bcpg:allergenSubset">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:allergen</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
		</type>

		<type name="bcpg:cost">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:costCurrency">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>false</tokenised>
					</index>
					<constraints>
						<constraint ref="bcpg:currency" />
					</constraints>

				</property>
				<property name="bcpg:costFixed">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
			</properties>
		</type>

		<type name="bcpg:ing">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:ingCEECode">
					<type>d:text</type>
				</property>
				<property name="bcpg:ingType">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<constraints>
						<constraint ref="bcpg:ingType" />
					</constraints>
				</property>
			</properties>
		</type>

		<type name="bcpg:microbio">
			<parent>bcpg:charact</parent>
		</type>

		<type name="bcpg:nut">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:nutGroup">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<constraints>
						<constraint ref="bcpg:nutGroup" />
					</constraints>
				</property>
				<property name="bcpg:nutType">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<constraints>
						<constraint ref="bcpg:nutType" />
					</constraints>
				</property>
				<property name="bcpg:nutUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>false</tokenised>
					</index>
					<constraints>
						<constraint ref="bcpg:nutUnit" />
					</constraints>
				</property>
			</properties>
		</type>

		<type name="bcpg:organo">
			<parent>bcpg:charact</parent>
		</type>

		<type name="bcpg:physicoChem">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:physicoChemUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>false</tokenised>
					</index>
					<constraints>
						<constraint ref="bcpg:physicoChemUnit" />
					</constraints>
				</property>
				<property name="bcpg:physicoChemFormulated">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
			</properties>
		</type>

		<type name="bcpg:geoOrigin">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:geoOriginISOCode">
					<type>d:text</type>
					<mandatory>true</mandatory>
				</property>
			</properties>
		</type>

		<type name="bcpg:bioOrigin">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:bioOriginType">
					<type>d:text</type>
				</property>
			</properties>
		</type>
		<!-- ______________________________________ FOURNISSEUR ______________________________________ -->
		<type name="bcpg:supplier">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="bcpg:supplierTel">
					<type>d:text</type>
				</property>
				<property name="bcpg:supplierFax">
					<type>d:text</type>
				</property>
				<property name="bcpg:supplierEmail">
					<type>d:text</type>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:location</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
				<aspect>bcpg:entityTplRefAspect</aspect>
			</mandatory-aspects>
		</type>
		<!-- ______________________________________ CLIENT ______________________________________ -->
		<type name="bcpg:client">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="bcpg:clientTel">
					<type>d:text</type>
				</property>
				<property name="bcpg:clientEmail">
					<type>d:text</type>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:location</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
				<aspect>bcpg:entityTplRefAspect</aspect>
			</mandatory-aspects>
		</type>
		<!-- ______________________________________ PLANT ______________________________________ -->
		<type name="bcpg:plant">
			<parent>bcpg:entityListItem</parent>
			<properties>
				<property name="bcpg:plantTel">
					<type>d:text</type>
				</property>
			</properties>
			<associations>
				<association name="bcpg:plantCertifications">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:certification</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:plantApprovalNumbers">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:approvalNumber</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:location</aspect>
			</mandatory-aspects>
		</type>
		<!-- ______________________________________ SUBSIDIARY ______________________________________ -->
		<type name="bcpg:subsidiary">
			<parent>bcpg:entityListItem</parent>
		</type>
		<!-- ______________________________________ TRADEMARK ______________________________________ -->
		<type name="bcpg:trademark">
			<parent>bcpg:entityListItem</parent>
		</type>
		<!-- ______________________________________ CERTIFICATION ______________________________________ -->
		<type name="bcpg:certification">
			<parent>bcpg:entityListItem</parent>
		</type>
		<!-- ______________________________________ APPROVAL NUMBER ______________________________________ -->
		<type name="bcpg:approvalNumber">
			<parent>bcpg:entityListItem</parent>
		</type>

		<!-- Entity Charact View -->



		<!-- _______________________________________ COMPO ________________________________________________ -->
		<type name="bcpg:compoList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:compoListQty">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:compoListQtySubFormula">
					<type>d:double</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
				</property>
				<!-- @Deprecated - TODO : patch -->
				<property name="bcpg:compoListQtyAfterProcess">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:compoListUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:compoListUnit" />
					</constraints>
				</property>
				<property name="bcpg:compoListLossPerc">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:compoListYieldPerc">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:compoListDeclType">
					<type>d:text</type>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:declarationTypes" />
					</constraints>
				</property>
			</properties>
			<associations>
				<!-- assoc used to store the product -->
				<association name="bcpg:compoListProduct">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:depthLevelAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- _______________________________________ PACKAGING ________________________________________________ -->
		<type name="bcpg:packagingList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:packagingListQty">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:packagingListUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:packagingListUnit" />
					</constraints>
				</property>
				<property name="bcpg:packagingListPkgLevel">
					<type>d:text</type>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:packagingLevel" />
					</constraints>
				</property>
				<property name="bcpg:packagingListIsMaster">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
					<index enabled="false"/>					
				</property>
			</properties>
			<associations>
				<association name="bcpg:packagingListProduct">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- ________________________________________________________________ LISTES 
			DE CARACT. ________________________________________________________________ -->

		<type name="bcpg:entityListItem">
			<parent>cm:content</parent>
		</type>

		<type name="bcpg:productListItem">
			<parent>bcpg:entityListItem</parent>
		</type>

		<type name="bcpg:allergenList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:allergenListVoluntary">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
				<property name="bcpg:allergenListInVoluntary">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
			</properties>
			<associations>
				<association name="bcpg:allergenListAllergen">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:allergen</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="bcpg:allergenListVolSources">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:cmobject</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:allergenListInVolSources">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:cmobject</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:costList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:costListValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:costListUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:costListUnit" />
					</constraints>
				</property>
				<property name="bcpg:costListMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:costListCost">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:cost</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- @Deprecated -->
		<type name="bcpg:costDetailsList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:costDetailsListValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:costDetailsListUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:costListUnit" />
					</constraints>
				</property>
				<property name="bcpg:costDetailsListPerc">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:costDetailsListCost">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:cost</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="bcpg:costDetailsListSource">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>				
			</associations>			
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:priceList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:priceListValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:priceListUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:costListUnit" />
					</constraints>
				</property>
				<property name="bcpg:priceListPurchaseQty">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:priceListPurchaseUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:productUnit" />
					</constraints>
				</property>
				<property name="bcpg:priceListPrefRank">
					<type>d:int</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:priceListCost">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:cost</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
				<aspect>bcpg:suppliersAspect</aspect>
				<aspect>bcpg:effectivityAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:ingLabelingList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:illValue">
					<type>d:mltext</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:illManualValue">
					<title>Etiquette retravaillée</title>
					<type>d:mltext</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>				
			</properties>
			<associations>
				<association name="bcpg:illGrp">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</type>

		<type name="bcpg:ingList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:ingListQtyPerc">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:ingListIsGMO">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
					<index enabled="false"/>
				</property>
				<property name="bcpg:ingListIsIonized">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:ingListIng">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:ing</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="bcpg:ingListGeoOrigin">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:geoOrigin</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:ingListBioOrigin">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:bioOrigin</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:ingListSubIng">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:ing</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:microbioList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:mblValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:mblUnit">
					<type>d:text</type>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:microbioUnit" />
					</constraints>
				</property>
				<property name="bcpg:mblMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:mblTextCriteria">
					<type>d:text</type>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:mblMicrobio">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:microbio</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:nutList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:nutListValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:nutListUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>					
					<constraints>
						<constraint ref="bcpg:nutListUnit" />
					</constraints>
				</property>
				<property name="bcpg:nutListMini">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:nutListMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:nutListGroup">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:nutGroup" />
					</constraints>
				</property>
				<property name="bcpg:nutListMethod">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<constraints>
						<constraint ref="bcpg:nutListMethods" />
					</constraints>
				</property>
			</properties>
			<associations>
				<association name="bcpg:nutListNut">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:nut</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:organoList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:organoListValue">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:organoListOrgano">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:organo</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:physicoChemList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:pclValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:pclUnit">
					<type>d:text</type>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:physicoChemUnit" />
					</constraints>
				</property>
				<property name="bcpg:pclMini">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:pclMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:pclPhysicoChem">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:physicoChem</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- List used to specify what is forbidden -->
		<type name="bcpg:forbiddenIngList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:filReqType">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:reqTypes" />
					</constraints>
				</property>
				<property name="bcpg:filReqMessage">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:filQtyPercMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:filIsGMO">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:nullableBoolean" />
					</constraints>
				</property>
				<property name="bcpg:filIsIonized">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:nullableBoolean" />
					</constraints>
				</property>
			</properties>
			<associations>
				<association name="bcpg:filIngs">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:ing</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:filGeoOrigins">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:geoOrigin</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:filBioOrigins">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:bioOrigin</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- List used to display the result of the requirement controls -->
		<type name="bcpg:reqCtrlList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:rclReqType">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
					<constraints>
						<constraint ref="bcpg:reqTypes" />
					</constraints>
				</property>
				<property name="bcpg:rclReqMessage">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="bcpg:rclSources">
					<source>
						<mandatory>true</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- Data List - Contact List -->
		<type name="bcpg:contactList">
			<parent>bcpg:entityListItem</parent>
			<properties>
				<property name="bcpg:contactListFirstName">
					<title>First Name</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListLastName">
					<title>Last Name</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListEmail">
					<title>Email Address</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListJobTitle">
					<title>Job Title</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListPhoneOffice">
					<title>Phone (Office)</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListPhoneMobile">
					<title>Phone (Mobile)</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListFax">
					<title>Fax</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:contactListNotes">
					<title>Notes</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false"/>
				</property>
			</properties>
		</type>
		
		<!-- Data List - labelClaimList -->
		<type name="bcpg:labelClaimList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:lclType">
					<type>d:text</type>
					<constraints>
						<constraint ref="bcpg:labelClaimTypes" />
					</constraints>
				</property>
				<property name="bcpg:lclIsClaimed">
					<type>d:boolean</type>
					<default>true</default>
				</property>
			</properties>
			<associations>
				<association name="bcpg:lclLabelClaim">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:labelClaim</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- Dynamic charact list -->

		<type name="bcpg:dynamicCharactList">
			<parent>bcpg:productListItem</parent>
			<properties>
				<property name="bcpg:dynamicCharactTitle">
					<type>d:text</type>
					<mandatory>true</mandatory>
				</property>
				<property name="bcpg:dynamicCharactFormula">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactErrorLog">
					<type>d:text</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactValue">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactColumn">
					<type>d:text</type>
					<constraints>
					  <constraint ref="bcpg:dynamicCharactColumns"/>
					</constraints>
				</property>
				<property name="bcpg:dynamicCharactGroupColor">
					<type>d:text</type>
					<default>000000</default>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>
		<!-- ________________________________________________________________ AUTO 
			COMP ________________________________________________________________ -->

		<type name="bcpg:listValue">
			<parent>bcpg:entityListItem</parent>
			<mandatory-aspects>
				<aspect>bcpg:isDeletedAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:linkedValue">
			<parent>bcpg:entityListItem</parent>
			<properties>
				<property name="bcpg:lkvValue">
					<type>d:text</type>
					<mandatory>true</mandatory>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:depthLevelAspect</aspect>
				<aspect>bcpg:isDeletedAspect</aspect>
				<aspect>bcpg:codeAspect</aspect>
			</mandatory-aspects>
		</type>

		<!-- Deprecated -->
		<type name="bcpg:entityFolder">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="bcpg:entityFolderClassName">
					<type>d:qname</type>
				</property>
			</properties>
		</type>

		<type name="bcpg:entity">
			<parent>cm:content</parent>
			<mandatory-aspects>
				<aspect>bcpg:effectivityAspect</aspect>
			</mandatory-aspects>
		</type>
		
		<!-- end deprecated -->
		
		<type name="bcpg:entityV2">
			<parent>cm:folder</parent>			
			<mandatory-aspects>
				<aspect>bcpg:effectivityAspect</aspect>
			</mandatory-aspects>
		</type>

		<type name="bcpg:systemEntity">
			<parent>bcpg:entityV2</parent>
		</type>
		
		<type name="bcpg:autoNum">
			<parent>cm:content</parent>
			<properties>
				<property name="bcpg:autoNumClassName">
					<type>d:qname</type>
				</property>
				<property name="bcpg:autoNumPropertyName">
					<type>d:qname</type>
				</property>
				<property name="bcpg:autoNumValue">
					<type>d:long</type>
				</property>
				<property name="bcpg:autoNumPrefix">
					<type>d:text</type>
					<constraints>
						<constraint ref="bcpg:autoNumPrefix" />
					</constraints>
				</property>
			</properties>
		</type>
		
		<type name="bcpg:labelClaim">
			<parent>bcpg:charact</parent>
			<properties>
				<property name="bcpg:labelClaimType">
					<type>d:text</type>
					<constraints>
						<constraint ref="bcpg:labelClaimTypes"/>
					</constraints>
				</property>
			</properties>
		</type>
			
		<type name="bcpg:variant">
		   <parent>cm:content</parent>
		   <properties>
				<property name="bcpg:isDefaultVariant">
					<type>d:boolean</type>
				</property>
			</properties>
		   
		</type>

	</types>
	<!-- __________________________________________ ASPECTS _________________________________________ -->


	<aspects>

		<aspect name="bcpg:legalNameAspect">
			<properties>
				<property name="bcpg:legalName">
					<type>d:mltext</type>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:productAspect">
			<properties>
				<property name="bcpg:productComments">
					<type>d:text</type>
				</property>
				<property name="bcpg:productHierarchy1">
					<type>d:noderef</type>
					<mandatory>true</mandatory>
				</property>
				<property name="bcpg:productHierarchy2">
					<type>d:noderef</type>
					<mandatory>true</mandatory>
				</property>
				<property name="bcpg:productState">
					<type>d:text</type>
					<default>ToValidate</default>
					<constraints>
						<constraint ref="bcpg:systemState" />
					</constraints>
				</property>
				<property name="bcpg:productUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<default>kg</default>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>false</tokenised>
					</index>
					<constraints>
						<constraint ref="bcpg:productUnit" />
					</constraints>
				</property>
				<property name="bcpg:productDensity">
					<type>d:double</type>
					<mandatory>true</mandatory>
					<default>1</default>
				</property>
			</properties>
		</aspect>
		
		<aspect name="bcpg:transformationAspect">
			<properties>
				<property name="bcpg:productQty">
					<type>d:double</type>
					<mandatory>true</mandatory>
				</property>
			</properties>
			<associations>
				<!-- @Deprecated -->
				<association name="bcpg:productSpecification">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:productSpecification</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="bcpg:productSpecifications">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:productSpecification</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:manufacturingAspect">
			<associations>
				<association name="bcpg:subsidiary">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:subsidiary</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="bcpg:plants">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:plant</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
				<association name="bcpg:trademark">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:trademark</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:eanAspect">
			<properties>
				<property name="bcpg:eanCode">
					<type>d:text</type>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:consumerAspect">
			<properties>
				<property name="bcpg:useByDate">
					<type>d:int</type>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:suppliersAspect">
			<associations>
				<association name="bcpg:suppliers">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:supplier</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:clientsAspect">
			<associations>
				<association name="bcpg:clients">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:client</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:productMicrobioCriteriaAspect">
			<associations>
				<association name="bcpg:productMicrobioCriteria">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:productMicrobioCriteria</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:depthLevelAspect">
			<properties>
				<property name="bcpg:depthLevel">
					<type>d:int</type>
					<mandatory>true</mandatory>
				</property>
				<!-- used to store the direct parentLevel node (multi-leve recipe)l -->
				<property name="bcpg:parentLevel">
					<type>d:noderef</type>
				</property>
			</properties>
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</aspect>

		<aspect name="bcpg:sortableListAspect">
			<properties>
				<property name="bcpg:sort">
					<type>d:int</type>
					<mandatory>true</mandatory>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:detaillableListItemAspect">
		</aspect>

		<aspect name="bcpg:isManualListItemAspect">
			<properties>
				<property name="bcpg:isManualListItem">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
			</properties>
		</aspect>
	
		<!-- Variants  -->
		<aspect name="bcpg:entityVariantAspect">
			<associations>
				<child-association name="bcpg:variants">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:variant</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</child-association>
			</associations>
		</aspect>		
		
		<aspect name="bcpg:entityListVariantAspect">
			<properties>
				<property name="bcpg:variantIds">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
					<multiple>true</multiple>
				</property>
			</properties>
		</aspect>
		
		<aspect name="bcpg:codeAspect">
			<properties>
				<property name="bcpg:code">
					<type>d:text</type>
					<mandatory>false</mandatory>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:erpCodeAspect">
			<properties>
				<property name="bcpg:erpCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:profitabilityAspect">
			<properties>
				<property name="bcpg:unitPrice">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="bcpg:priceCurrency">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>false</tokenised>
					</index>
					<constraints>
						<constraint ref="bcpg:currency" />
					</constraints>
				</property>
				<property name="bcpg:breakEven">
					<type>d:long</type>
					<mandatory>false</mandatory>
				</property>
				<property name="bcpg:projectedQty">
					<type>d:long</type>
					<mandatory>false</mandatory>
				</property>
				<property name="bcpg:unitTotalCost">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="bcpg:profitability">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
			</properties>
		</aspect>

		<!-- Aspect used to store the entity type of the template (entityFolderTpl, 
			entityTpl, etc...) -->
		<aspect name="bcpg:entityTplAspect">
			<properties>
				<property name="bcpg:entityTplClassName">
					<type>d:qname</type>
				</property>
				<property name="bcpg:entityTplEnabled">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>true</default>
				</property>
				<property name="bcpg:entityTplIsDefault">
					<type>d:boolean</type>
					<default>false</default>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:entityTplRefAspect">
			<associations>
				<association name="bcpg:entityTplRef">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:entityV2</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</aspect>

		<aspect name="bcpg:entityListsAspect">
			<associations>
				<child-association name="bcpg:entityLists">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:folder</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
					<duplicate>false</duplicate>
				</child-association>
			</associations>
		</aspect>
		
			<aspect name="bcpg:entityDataListStateAspect">
				<properties>
				   <property name="bcpg:entityDataListState">
				      <type>d:text</type>
				      <mandatory>false</mandatory>
				      <constraints>
				      	<constraint ref="bcpg:entityDataListStates"></constraint>
				      </constraints>
				   </property>
				</properties>
			</aspect>
		
		
		
		<aspect name="bcpg:hiddenFolder">
		</aspect>

		<aspect name="bcpg:location">
			<title>Location</title>
			<properties>
				<property name="bcpg:locationAddress1">
					<title>Address 1</title>
					<type>d:text</type>
				</property>
				<property name="bcpg:locationAddress2">
					<title>Address 2</title>
					<type>d:text</type>
				</property>
				<property name="bcpg:locationAddress3">
					<title>Address 3</title>
					<type>d:text</type>
				</property>
				<property name="bcpg:locationZip">
					<title>Zip/Post Code</title>
					<type>d:text</type>
				</property>
				<property name="bcpg:locationCity">
					<title>Zip/Post Code</title>
					<type>d:text</type>
				</property>
				<property name="bcpg:locationCountry">
					<title>Country</title>
					<type>d:text</type>
				</property>
			</properties>
		</aspect>

		<!-- versionable with datalists -->
		<!-- @Deprecated -->
		<aspect name="bcpg:compositeVersionable">
			<title>Versionable with datalists</title>
			<properties>				
				<property name="bcpg:initialVersion">
					<title>Initial Version</title>
					<type>d:boolean</type>
					<default>true</default>
				</property>
			</properties>
		</aspect>

		<!-- version with datalists -->
		<aspect name="bcpg:compositeVersion">
			<title>Versionable with datalists</title>
			<properties>
				<property name="bcpg:versionDescription">
					<title>Version Label</title>
					<type>d:text</type>
					<protected>true</protected>
				</property>
				<property name="bcpg:versionLabel">
					<title>Version Label</title>
					<type>d:text</type>
					<protected>true</protected>
				</property>
				<property name="bcpg:frozenCreated">
					<title>Created</title>
					<type>d:datetime</type>
					<protected>true</protected>
					<index enabled="true">
						<atomic>true</atomic>
						<stored>false</stored>
						<tokenised>both</tokenised>
					</index>
				</property>
				<property name="bcpg:frozenCreator">
					<title>Creator</title>
					<type>d:text</type>
					<protected>true</protected>
				</property>
				<property name="bcpg:frozenModified">
					<title>Modified</title>
					<type>d:datetime</type>
					<protected>true</protected>
					<index enabled="true">
						<atomic>true</atomic>
						<stored>false</stored>
						<tokenised>both</tokenised>
					</index>
				</property>
				<property name="bcpg:frozenModifier">
					<title>Modifier</title>
					<type>d:text</type>
					<protected>true</protected>
				</property>
				<property name="bcpg:frozenAccessed">
					<title>Accessed</title>
					<type>d:datetime</type>
					<protected>true</protected>
					<index enabled="true">
						<atomic>true</atomic>
						<stored>false</stored>
						<tokenised>both</tokenised>
					</index>
				</property>
				<property name="bcpg:frozenNodeRef">
					<type>d:text</type>
					<mandatory enforced="true">false</mandatory>
				</property>
				<property name="bcpg:frozenNodeDbId">
					<type>d:long</type>
					<mandatory enforced="true">false</mandatory>
				</property>
			</properties>
		</aspect>

		<!-- Aspect for folder templates used to store permission groups -->
		<aspect name="bcpg:permissionsTpl">
			<associations>

				<association name="bcpg:consumerGroups">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<!-- TODO: Refactor when group is pulled into content model -->
						<class>cm:authorityContainer</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

				<association name="bcpg:editorGroups">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<!-- TODO: Refactor when group is pulled into content model -->
						<class>cm:authorityContainer</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

				<association name="bcpg:contributorGroups">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<!-- TODO: Refactor when group is pulled into content model -->
						<class>cm:authorityContainer</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

				<association name="bcpg:collaboratorGroups">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<!-- TODO: Refactor when group is pulled into content model -->
						<class>cm:authorityContainer</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

			</associations>
		</aspect>

		<aspect name="bcpg:effectivityAspect">
			<properties>
				<property name="bcpg:startEffectivity">
					<type>d:datetime</type>
				</property>
				<property name="bcpg:endEffectivity">
					<type>d:datetime</type>
				</property>
			</properties>
		</aspect>
		
		<aspect name="bcpg:certificateDateAspect">
			<properties>
				<property name="bcpg:certificateDate">
					<type>d:date</type>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:isDeletedAspect">
			<properties>
				<property name="bcpg:isDeleted">
					<type>d:boolean</type>
					<mandatory enforced="true">true</mandatory>
					<default>false</default>
				</property>
			</properties>
		</aspect>

		<aspect name="bcpg:colorAspect">
			<properties>
				<property name="bcpg:color">
					<type>d:text</type>
					<default>000000</default>
				</property>
			</properties>
		</aspect>
		
		
		<aspect name="bcpg:systemFolderAspect">
			
		</aspect>
		
		
		<aspect name="bcpg:dynamicCharactColumnsAspect">
			<properties>
				<property name="bcpg:dynamicCharactColumn1">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactColumn2">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactColumn3">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactColumn4">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
				<property name="bcpg:dynamicCharactColumn5">
					<type>d:any</type>
					<index enabled="false"/>
				</property>
			</properties>
		</aspect>
		
		<!-- ALF-8143 -->
		<!-- @Deprecated -->
		<aspect name="bcpg:entityVersionable">
			<title>Entity Versionable</title>
			<!-- comment parent, otherwise when cm:versionable is removed when we remove bcpg:entityVersionable -->
<!-- 			<parent>cm:versionable</parent>
			<overrides>
				<property name="cm:autoVersion">
					<default>false</default>
				</property>
			</overrides>-->
		</aspect>

	</aspects>
</model>
