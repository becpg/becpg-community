<alfresco-config>
	<config evaluator="string-compare" condition="DocumentLibrary">
		<aspects>
			<visible>

				<aspect name="cm:workingcopy" />
				
				<!-- beCPG -->
				<aspect name="bcpg:clientsAspect" />
				<aspect name="bcpg:suppliersAspect" />
				<aspect name="bcpg:profitabilityAspect" />
				<aspect name="bcpg:reconstitutableAspect" />
				<aspect name="bcpg:diluentAspect" />
				<aspect name="qa:batchAspect" />
				<aspect name="qa:acAspect" />
				<aspect name="gs1:gs1Aspect" />
				<aspect name="pack:palletAspect" />
				<aspect name="pack:sizeAspect" />
				<aspect name="pack:tareAspect" />
			</visible>
			<!-- Aspects that a user can add. Same as "visible" if left empty -->
			<addable>
			</addable>
			<!-- Aspects that a user can remove. Same as "visible" if left empty -->
			<removeable>
			</removeable>
		</aspects>
		<types>
			<type name="cm:content">
				<subtype name="bcpg:product" />
				<subtype name="bcpg:productMicrobioCriteria" />
				<subtype name="bcpg:productSpecification" />
				<subtype name="bcpg:allergen" />
				<subtype name="bcpg:cost" />
				<subtype name="bcpg:ing" />
				<subtype name="bcpg:microBio" />
				<subtype name="bcpg:nut" />
				<subtype name="bcpg:organo" />
				<subtype name="bcpg:physicoChem" />
				<subtype name="qa:nc" />
				<subtype name="qa:controlPlan" />
				<subtype name="qa:qualityControl" />
				<subtype name="qa:controlPoint" />
				<subtype name="qa:controlStep" />
				<subtype name="qa:controlMethod" />
				<subtype name="qa:workItemAnalysis" />
				<subtype name="bcpg:supplier" />
				<subtype name="bcpg:client" />
				<subtype name="ecm:changeOrder" />	
			</type>
			<type name="cm:folder">
				<subtype name="bcpg:productReportTemplate" />
			</type>
			<type name="dl:dataListItem">
				<subtype name="bcpg:allergenList" />
				<subtype name="bcpg:costList" />
				<subtype name="bcpg:compoList" />
				<subtype name="bcpg:ingLabelingList" />
				<subtype name="bcpg:ingList" />
				<subtype name="bcpg:microBioList" />
				<subtype name="bcpg:nutList" />
				<subtype name="bcpg:organoList" />
				<subtype name="bcpg:physicoChemList" />
			</type>
			<type name="trx:transferTarget">
				<subtype name="trx:fileTransferTarget" />
			</type>
		</types>
		<indicators>
			<indicator id="entity-simulation" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.entity.simulation</evaluator>
			</indicator>
			<indicator id="entity-tovalidate" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.entity.tovalidate</evaluator>
			</indicator>
			<indicator id="entity-valid" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.entity.valid</evaluator>
			</indicator>
			<indicator id="entity-refused" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.entity.refused</evaluator>
			</indicator>
			<indicator id="entity-archived" index="10">
				<evaluator>evaluator.becpg.doclib.indicator.entity.archived</evaluator>
			</indicator>
			
			<!-- ECM -->
			<indicator id="ecm-automatic"  index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.automatic</evaluator>
			</indicator>
			
			<indicator id="ecm-tocalculatewused" index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.toCalculateWUsed
				</evaluator>
			</indicator>
			
			<indicator id="ecm-wusedcalculated" index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.wUsedCalculated
				</evaluator>
			</indicator>
			
			<indicator id="ecm-simulated" index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.simulated</evaluator>
			</indicator>
			
			<indicator id="ecm-applied"  index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.applied</evaluator>
			</indicator>
			
			<indicator id="ecm-inerror"  index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.inError</evaluator>
			</indicator>	
				
			<indicator id="ecm-inprogress"   index="15">
				<evaluator>evaluator.becpg.doclib.indicator.ecm.inProgress</evaluator>
			</indicator>	
				

		</indicators>
		<!-- File upload configuration -->
		<file-upload>
			<!-- Adobe Flash™ In certain environments, an HTTP request originating from Flash cannot be authenticated using an existing session. See: http://bugs.adobe.com/jira/browse/FP-4830 For these cases, it 
				is useful to disable the Flash-based uploader for Share Document Libraries. -->
			<adobe-flash-enabled>true</adobe-flash-enabled>
		</file-upload>
	</config>
	<config evaluator="string-compare" condition="DocumentLibrary" replace="true">
		<create-content>
			 <content id="folder" label="create-content.folder" icon="folder" index="5" type="javascript">
	            <param name="function">onNewFolder</param>
	         </content>
			<content id="plain-text" label="create-content.text" type="pagelink" index="10" icon="text">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=cm:content&amp;mimeType=text/plain
				</param>
			</content>
			<content id="finishedProduct" label="menu.create-content.finishedProduct" type="pagelink" index="40" icon="finishedProduct">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:finishedProduct&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="rawMaterial" label="menu.create-content.rawMaterial" type="pagelink" index="50" icon="rawMaterial">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:rawMaterial&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="localSemiFinishedProduct" label="menu.create-content.localSemiFinishedProduct" type="pagelink" index="60" icon="localSemiFinishedProduct">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:localSemiFinishedProduct&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="semiFinishedProduct" label="menu.create-content.semiFinishedProduct" type="pagelink" index="70" icon="semiFinishedProduct">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:semiFinishedProduct&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="packagingMaterial" label="menu.create-content.packagingMaterial" type="pagelink" index="80" icon="packagingMaterial">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:packagingMaterial&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="packagingKit" label="menu.create-content.packagingKit" type="pagelink" index="90" icon="packagingKit">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:packagingKit&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="resourceProduct" label="menu.create-content.resourceProduct" type="pagelink" index="100" icon="resourceProduct">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:resourceProduct&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="supplier" label="menu.create-content.supplier" type="pagelink" index="120" icon="supplier">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:supplier&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="client" label="menu.create-content.client" type="pagelink" index="130" icon="client">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=bcpg:client&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="nc" label="menu.create-content.nc" type="pagelink" index="140" icon="nc">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=qa:nc&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="controlPlan" label="menu.create-content.controlPlan" type="pagelink" index="150" icon="controlPlan">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=qa:controlPlan&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="qualityControl" label="menu.create-content.qualityControl" type="pagelink" index="160" icon="qualityControl">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=qa:qualityControl&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="changeOrder" label="menu.create-content.eco" type="pagelink" index="170" icon="changeOrder">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=ecm:changeOrder&amp;formId=create&amp;isEntity=true
				</param>
			</content>
			<content id="entity" label="menu.create-content.entity" type="pagelink" index="180" icon="entity">
				<param name="page">create-content?destination={nodeRef}&amp;itemId=cm:folder&amp;formId=create-entity&amp;isEntity=true
				</param>
			</content>
		</create-content>
		<create-content-by-template>true</create-content-by-template>
	</config>
	<config evaluator="string-compare" condition="DocLibActions">
		<!-- Action definitions -->
		<actions>

			<action id="entity-compare" type="javascript" label="actions.entity.compare">
				<param name="function">onActionCompareEntity</param>
				<evaluator>evaluator.becpg.doclib.action.product</evaluator>
			</action>

			<action id="entityTpl-synchronize-entities" type="javascript" icon="entity-refresh-reports" label="actions.entityTpl-synchronize-entities">
				<param name="function">onActionEntityTplSynchronizeEntities</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.becpg.doclib.action.entityTpl</evaluator>
				<evaluator>evaluator.becpg.doclib.action.product</evaluator>
			</action>

			<action id="entityTpl-formulate-entities" type="javascript" icon="entity-refresh-reports" label="actions.entityTpl-formulate-entities">
				<param name="function">onActionEntityTplFormulateEntities</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.becpg.doclib.action.entityTpl</evaluator>
				<evaluator>evaluator.becpg.doclib.action.product</evaluator>
			</action>
			<action id="entityTpl-wused" type="pagelink" icon="entity-wused" label="actions.entity.wused">
				<param name="page">wused?assocName=assoc_bcpg_entityTplRef&amp;nodeRefs={node.nodeRef}</param>
				<evaluator>evaluator.becpg.doclib.action.entityTpl</evaluator>
				<evaluator>evaluator.becpg.doclib.action.product</evaluator>
			</action>
		</actions>

		<actionGroups>

			<actionGroup id="entity-details">
				<action index="106" id="entity-compare" icon="compare" />
				<action index="108" id="entityTpl-synchronize-entities" />
				<action index="109" id="entityTpl-formulate-entities" />
				<action index="110" id="entityTpl-wused" />
			</actionGroup>

		</actionGroups>
	</config>


</alfresco-config>