(function(){if(beCPG.module.EntityDataGridRenderers){YAHOO.Bubbling.fire("registerDataGridRenderer",{propertyName:"cm:name",renderer:function(r,c,l,p,d,n,m,f){var e=r.getData(),a=beCPG.util.entityURL(e.siteId,e.nodeRef),g="",q="",k=e.itemData.prop_qa_ncPriority.value,h={"1":"high","2":"medium","3":"low"},b=h[k+""],j=e.itemData.prop_cm_name.displayValue,o=beCPG.util.entityDocumentsURL(e.siteId,e.path,j);if(c.version&&c.version!==""){g='<span class="document-version">'+c.version+"</span>"}q='<img class="priority" src="'+Alfresco.constants.URL_RESCONTEXT+"components/images/priority-"+b+'-16.png" title="'+p.msg("label.priority",p.msg("priority."+b))+'"/>';if(e.version&&e.version!==""){g='<span class="document-version">'+e.version+"</span>"}Dom.setStyle(m,"width","15em");Dom.setStyle(m.parentNode,"width","15em");return'<span class="nc '+e.itemData.prop_qa_ncType.value+'" ><a class="folder-link" href="'+o+'" title="'+p.msg("link.title.open-folder")+'"></a><a href="'+a+'">'+q+"&nbsp;"+Alfresco.util.encodeHTML(j)+"</a>&nbsp;</span>"+g}});YAHOO.Bubbling.fire("registerDataGridRenderer",{propertyName:["cm:creator","qa:claimResponseActor"],renderer:function(d,e,b,c){var a=d.getData();return'<span class="avatar" title="'+a.createdBy.displayValue+'">'+Alfresco.Share.userAvatar(a.createdBy.value,32)+"&nbsp;"+a.createdBy.displayValue+"</span>"}})}YAHOO.Bubbling.fire("registerToolbarButtonAction",{actionName:"create-nc",evaluate:function(b,a){return b.name!==null&&(b.name==="ncList")},fn:function(a){document.location.href=Alfresco.util.siteURL("start-workflow?referrer=nc-list&myWorkflowsLinkBack=true")}});YAHOO.Bubbling.fire("registerToolbarButtonAction",{actionName:"export-csv",right:true,evaluate:function(b,a){return b.name!==null&&(b.name==="ncList")},fn:function(a){var b=Alfresco.util.ComponentManager.find({name:"beCPG.module.EntityDataGrid"})[0];Alfresco.util.Ajax.jsonGet({url:b._getColumnUrl("export"),successCallback:{fn:function(g){var l={fields:[],filter:b.currentFilter,page:1};l.filter.filterParams=b._createFilterURLParameters(b.currentFilter,b.options.filterParameters);for(var k=0,m=g.json.columns.length;k<m;k++){var f=g.json.columns[k],e=f.name.replace(":","_");if(f.dataType=="nested"&&f.columns){for(var h=0;h<f.columns.length;h++){var d=f.columns[h];e+="|"+d.name.replace(":","_")}}l.fields.push(e)}var c=5000;document.location.href=b._getDataUrl(c)+"&format=xlsx&metadata="+encodeURIComponent(YAHOO.lang.JSON.stringify(l))},scope:this}})}})})();