<!--
  Copyright (C) 2010-2017 beCPG. 
   
  This file is part of beCPG 
   
  beCPG is free software: you can redistribute it and/or modify 
  it under the terms of the GNU Lesser General Public License as published by 
  the Free Software Foundation, either version 3 of the License, or 
  (at your option) any later version. 
   
  beCPG is distributed in the hope that it will be useful, 
  but WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
  GNU Lesser General Public License for more details. 
   
  You should have received a copy of the GNU Lesser General Public License along with beCPG. If not, see <http://www.gnu.org/licenses/>.
-->
<alfresco-config>
	
	<!-- ecm:changeOrder type (creating nodes nodes) -->
	<config evaluator="model-type" condition="ecm:changeOrder">
		<forms>

			<form id="create">
				<field-visibility>
					<show id="cm:name" />
					<show id="cm:description"  force="true"  />
					
					<!-- <show id="ecm:effectiveDate" /> -->
					<show id="ecm:ecoType"/>
					<show id="ecm:calculatedCharacts" />							
															
				</field-visibility>
				<appearance>
					<field id="cm:description">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="rows">3</control-param>
						</control>
					</field>		
					<field id="ecm:ecoType">
						<control
							template="/org/alfresco/components/form/controls/selectone.ftl" >
						</control>
					</field>
					<field id="ecm:calculatedCharacts" >
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" >
							<control-param name="ds">becpg/autocomplete/eco</control-param>
						</control>		
					</field>						
				</appearance>
			</form>

		</forms>
	</config>
	
	<!-- ecm:changeOrder (existing nodes) -->
	<config evaluator="node-type" condition="ecm:changeOrder">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" />
					<show id="cm:description"  force="true"  />
					<show id="bcpg:code" />
					<show id="ecm:ecoState" />
					<show id="ecm:effectiveDate" />
					<show id="ecm:ecoType" />
					<show id="ecm:calculatedCharacts" />							
					
					<!-- auditable -->
					<show id="cm:creator" for-mode="view" />
					<show id="cm:created" for-mode="view" />
					<show id="cm:modifier" for-mode="view" />
					<show id="cm:modified" for-mode="view" />								
				</field-visibility>
				<appearance>
					<field id="cm:description">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="rows">3</control-param>
						</control>
					</field>		
					<field id="ecm:ecoState">
						<control
							template="/org/alfresco/components/form/controls/selectone.ftl" >
									</control>
					</field>
					<field id="ecm:ecoType">
						<control
							template="/org/alfresco/components/form/controls/selectone.ftl" >
							 </control>
					</field>	
					<field id="ecm:effectiveDate" read-only="true"/>
					<field id="ecm:calculatedCharacts" >
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" >
							<control-param name="ds">becpg/autocomplete/eco</control-param>
						</control>		
					</field>				
				</appearance>
			</form>
		</forms>
	</config>	
	
	<!-- ecm:replacementList type -->
	<config evaluator="model-type" condition="ecm:replacementList">
		<forms>
			<!-- Create item form -->
			<form>
				<field-visibility>
					<show id="ecm:rlRevisionType" />
					<show id="ecm:rlSourceItems" />
					<show id="ecm:rlTargetItem" />	
					<show id="ecm:rlQtyPerc" />				
				</field-visibility>
				<create-form template="../data-lists/forms/bulkdataitem.ftl" />
				<appearance>
					<field id="ecm:rlRevisionType">
						<control
							template="/org/alfresco/components/form/controls/selectone.ftl" >
						</control>
					</field>						
					<field id="ecm:rlSourceItems">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
					<field id="ecm:rlTargetItem">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
				</appearance>
			</form>
			<!-- Data Grid view -->
			<form id="datagrid">
				<field-visibility>
					<show id="ecm:rlRevisionType" />
					<show id="ecm:rlSourceItems" />
					<show id="ecm:rlTargetItem" />
					<show id="ecm:rlQtyPerc" />
				</field-visibility>
			</form>
		</forms>
	</config>
	<!-- ecm:replacementList type (existing nodes) -->
	<config evaluator="node-type" condition="ecm:replacementList">
		<forms>
			<!-- Data List pop-up edit form -->
			<form>
				<field-visibility>
					<show id="ecm:rlRevisionType" />
					<show id="ecm:rlSourceItems" />
					<show id="ecm:rlTargetItem" />
					<show id="ecm:rlQtyPerc" />
				</field-visibility>
				<edit-form template="../data-lists/forms/bulkdataitem.ftl" />
				<appearance>
					<field id="ecm:rlRevisionType">
						<control
							template="/org/alfresco/components/form/controls/selectone.ftl" >
						</control>
					</field>
					<field id="ecm:rlSourceItems">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
					<field id="ecm:rlTargetItem">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	
	<!-- ecm:wUsedList type -->
	<config evaluator="model-type" condition="ecm:wUsedList">
		<forms>
			<!-- Create item form -->
			<form>
				<field-visibility>
					<show id="ecm:impactedDataList" />
					<show id="ecm:isWUsedImpacted" />
					<show id="ecm:wulSourceItems" />										
				</field-visibility>
			</form>
			<!-- Data Grid view -->
			<form id="datagrid">
				<field-visibility>
					<show id="bcpg:depthLevel" />
					<show id="ecm:wulSourceItems" />
					<show id="ecm:isWUsedImpacted" />
					<show id="ecm:impactedDataList" />		
				</field-visibility>
				<appearance>
					<field id="bcpg:depthLevel" read-only="true"/>
					<field id="ecm:wulSourceItems" read-only="true"/>
					<field id="ecm:impactedDataList" read-only="true"/>	
				</appearance>
			</form>
			<form id="filter">
				<field-visibility>
					<show id="bcpg:depthLevel" />
					<show id="entity_ecm:wulSourceItems_bcpg:product" />
					<show id="ecm:isWUsedImpacted" />
				</field-visibility>
				<appearance>
					<field id="bcpg:depthLevel">
						<control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="options">All|data.level.all,1|1,2|2</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<!-- ecm:wUsedList type (existing nodes) -->
	<config evaluator="node-type" condition="ecm:wUsedList">
		<forms>
			<!-- Data List pop-up edit form -->
			<form>
				<field-visibility>
				    <show id="ecm:isWUsedImpacted" />
					<show id="ecm:wulSourceItems" />
					<show id="ecm:impactedDataList" />			
				</field-visibility>
				<appearance>
					<field id="ecm:wulSourceItems" read-only="true"/>
					<field id="ecm:impactedDataList" read-only="true">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>	
				</appearance>
			</form>
		</forms>
	</config>
	
	<!-- ecm:changeUnitList type -->
	<config evaluator="model-type" condition="ecm:changeUnitList">
		<forms>
			<!-- Create item form -->
			<form>
				<field-visibility>
					<show id="ecm:culRevision" />
					<show id="ecm:culSourceItem" />
					<!-- <show id="ecm:culTargetItem" />	 -->
					<show id="ecm:culTreated" />
					<show id="ecm:culReqType" />
					<show id="ecm:culReqDetails" />												
				</field-visibility>
				<appearance>
					<field id="ecm:culReqType">
					<control
						template="/org/alfresco/components/form/controls/selectone.ftl" >
						 <control-param name="options">Forbidden|data.reqtype.forbidden,Tolerated|data.reqtype.tolerated,Info|data.reqtype.info</control-param>
					</control>
				</field>
				</appearance>							
			</form>
			<form id="filter">
				<field-visibility>
					<show id="ecm:culRevision" />
					<show id="ecm:culSourceItem" />	
					<show id="ecm:culTreated" />
					<show id="ecm:culReqType" />	
				</field-visibility>
				<appearance>
				<field id="ecm:culRevision">
					  <control template="/org/alfresco/components/form/controls/selectone.ftl">
							<control-param name="isSearch">true</control-param>
							<control-param name="insertBlank">true</control-param>
						</control>
					</field>	
					<field id="ecm:culReqType">
					<control
						template="/org/alfresco/components/form/controls/selectone.ftl" >
						 <control-param name="options">Forbidden|data.reqtype.forbidden,Tolerated|data.reqtype.tolerated,Info|data.reqtype.info</control-param>
						 <control-param name="isSearch">true</control-param>
						<control-param name="insertBlank">true</control-param>
					</control>
				</field>
				<field id="ecm:culTreated">
					<control template="/org/alfresco/components/form/controls/selectone.ftl">
						<control-param name="options">,false|data.boolean.false,true|data.boolean.true</control-param>
					</control>
				</field>
				</appearance>				
			</form>
			<!-- Data Grid view -->
			<form id="datagrid">
				<field-visibility>
					<show id="ecm:culReqError" />
					<show id="ecm:culRevision" />
					<show id="ecm:culSourceItem" />
					<!-- <show id="ecm:culTargetItem" /> -->	
					<show id="ecm:culTreated" />
					<show id="ecm:culReqType" />
					<show id="ecm:culReqDetails" />		
				</field-visibility>
				<appearance>
					<field id="ecm:culReqError" label="hidden" />
				</appearance>				
			</form>
		</forms>
	</config>
	<!-- ecm:changeUnitList type (existing nodes) -->
	<config evaluator="node-type" condition="ecm:changeUnitList">
		<forms>
			<!-- Data List pop-up edit form -->
			<form>
				<field-visibility>
					<show id="ecm:culRevision" />
					<show id="ecm:culSourceItem" />
					<!-- <show id="ecm:culTargetItem" />	 -->
					<show id="ecm:culTreated" />
					<show id="ecm:culReqType" />
					<show id="ecm:culReqDetails" />
				</field-visibility>
				<appearance>
					<field id="ecm:culReqType">
					<control
						template="/org/alfresco/components/form/controls/selectone.ftl" >
						 <control-param name="options">Forbidden|data.reqtype.forbidden,Tolerated|data.reqtype.tolerated,Info|data.reqtype.info</control-param>
					</control>
				</field>
				</appearance>				
			</form>
		</forms>
	</config>
		
	<!-- ecm:calculatedCharactList type -->
	<config evaluator="model-type" condition="ecm:calculatedCharactList">
		<forms>
			<!-- Create item form -->
			<form>
				<field-visibility>
					<show id="ecm:cclSourceItem" />
					<show id="ecm:cclCharact" />
					<show id="ecm:cclSourceValue" />
					<show id="ecm:cclTargetValue" />														
				</field-visibility>		
			</form>
			<!-- Data Grid view -->
			<form id="datagrid">
				<field-visibility>
					<show id="ecm:cclSourceItem" />
					<show id="ecm:cclCharact" />
					<show id="ecm:cclSourceValue" />
					<show id="ecm:cclTargetValue" />					
				</field-visibility>
			</form>
		</forms>
	</config>
	<!-- ecm:calculatedCharactList type (existing nodes) -->
	<config evaluator="node-type" condition="ecm:calculatedCharactList">
		<forms>
			<!-- Data List pop-up edit form -->
			<form>
				<field-visibility>
					<show id="ecm:cclSourceItem" />
					<show id="ecm:cclCharact" />
					<show id="ecm:cclSourceValue" />
					<show id="ecm:cclTargetValue" />										
				</field-visibility>
				<edit-form template="../data-lists/forms/bulkdataitem.ftl" />				
			</form>
		</forms>
	</config>
	
</alfresco-config>
