<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (C) 2010-2016 beCPG. 
   
  This file is part of beCPG 
   
  beCPG is free software: you can redistribute it and/or modify 
  it under the terms of the GNU Lesser General Public License as published by 
  the Free Software Foundation, either version 3 of the License, or 
  (at your option) any later version. 
   
  beCPG is distributed in the hope that it will be useful, 
  but WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
  GNU Lesser General Public License for more details. 
   
  You should have received a copy of the GNU Lesser General Public License along with beCPG. If not, see <http://www.gnu.org/licenses/>.
-->
<model xmlns="http://www.alfresco.org/model/dictionary/1.0" name="qa:qamodel">
	<description>Quality Model</description>
	<author>Laborie Matthieu</author>
	<version>1.0</version>
	<imports>
		<import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d" />
		<import uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
		<import uri="http://www.alfresco.org/model/datalist/1.0" prefix="dl" />
		<import uri="http://www.bcpg.fr/model/becpg/1.0" prefix="bcpg" />
		<import uri="http://www.bcpg.fr/model/report/1.0" prefix="rep" />
	</imports>
	<namespaces>
		<namespace uri="http://www.bcpg.fr/model/quality/1.0" prefix="qa" />
	</namespaces>
	<data-types />
	<constraints>
		<constraint name="qa:ncStates" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value />
					<value>new</value>
					<value>analysis</value>
					<value>treatment</value>
					<value>response</value>
					<value>classification</value>
					<value>closing</value>
					<value>closed</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:ncTypes" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>Claim</value>
					<value>NonConformity</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:ncPriority" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>1</value>
					<value>2</value>
					<value>3</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:ncQuantityNcUnit" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value />
					<value>kg</value>
					<value>L</value>
					<value>P</value>
					<value>m</value>
					<value>m2</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:freqUnits" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>/hour</value>
					<value>/4hours</value>
					<value>/8hours</value>
					<value>/day</value>
					<value>/week</value>
					<value>/month</value>
					<value>/year</value>
					<value>/batch</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:controlTypes" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value />
					<value>bcpg_allergenList</value>
					<value>bcpg_microbioList</value>
					<value>bcpg_nutList</value>
					<value>bcpg_physicoChemList</value>
					<value>bcpg_organoList</value>
					<value>Dimension</value>
					<value>Poids</value>
					<value>Composition</value>
					<value>Conditionnement</value>
					<value>Volume</value>
					<value>Performance</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:states" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value />
					<value>Compliant</value>
					<value>NonCompliant</value>
				</list>
			</parameter>
		</constraint>
		<constraint name="qa:claimSources" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ClaimSources</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
		</constraint>
		<constraint name="qa:claimTrackingValues" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ClaimTrackingValues</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
		</constraint>
		<constraint name="qa:claimTypes" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ClaimTypes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
		</constraint>
		<constraint name="qa:claimResponseStates" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ClaimResponseStates</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
		</constraint>
		
		<constraint name="qa:claimDistributionNetworks" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ClaimDistributionNetworks</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
		</constraint>
		
		<constraint name="qa:controlUnits" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/QualityLists/bcpg:entityLists/ControlUnits</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
			<parameter name="addEmptyValue">
				<value>true</value>
			</parameter>
		</constraint>
	</constraints>
	<types>
		<type name="qa:nc">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="qa:ncType">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:ncTypes" />
					</constraints>
				</property>
				<property name="qa:ncPriority">
					<type>d:int</type>
					<mandatory>true</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:ncPriority" />
					</constraints>
				</property>
				<property name="qa:ncState">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:ncStates" />
					</constraints>
				</property>
				<property name="qa:ncQuantityNc">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:ncQuantityNcUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:ncQuantityNcUnit" />
					</constraints>
				</property>
				<property name="qa:ncCost">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:ncComment">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
			</properties>
			<associations>
				<association name="qa:ncCreationStep">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlStep</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:ncDetectionStep">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlStep</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects>
				<aspect>cm:titled</aspect>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlPlan">
			<parent>bcpg:entityV2</parent>
			<properties />
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>cm:titled</aspect>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:qualityControl">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="qa:qcSamplesCounter">
					<type>d:int</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:qcState">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:states" />
					</constraints>
				</property>
			</properties>
			<associations>
				<association name="qa:qcControlPlans">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlPlan</class>
						<mandatory enforced="false">false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects>
				<aspect>cm:titled</aspect>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>qa:batchAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlPoint">
			<parent>bcpg:entityV2</parent>
			<properties>
				<property name="qa:cpIsExtLabo">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:cpReleaseInfo">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:cpSendResults">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:cpStoreResults">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>cm:titled</aspect>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlStep">
			<parent>bcpg:charact</parent>
			<properties />
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlMethod">
			<parent>bcpg:charact</parent>
			<properties />
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlCharact">
			<parent>bcpg:charact</parent>
			<properties >
				<property name="qa:controlCharactType">
					<type>d:text</type>
					<constraints>
						<constraint ref="qa:controlTypes" />
					</constraints>
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:workItemAnalysis">
			<parent>bcpg:entityV2</parent>
			<properties />
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:codeAspect</aspect>
				<aspect>bcpg:entityListsAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:qualityListItem">
			<parent>bcpg:entityListItem</parent>
			<properties />
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:sortableListAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:workLog">
			<parent>qa:qualityListItem</parent>
			<properties>
				<property name="qa:wlState">
					<type>d:text</type>
					<mandatory>false</mandatory>					
					<constraints>
						<constraint ref="qa:ncStates" />
					</constraints>
				</property>
				<property name="qa:wlComment">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects />
		</type>
		<type name="qa:samplingDefList">
			<parent>qa:qualityListItem</parent>
			<properties>
				<property name="qa:sdlQty">
					<type>d:int</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:sdlFreq">
					<type>d:int</type>
					<mandatory>true</mandatory>					
				</property>
				<property name="qa:sdlFreqUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
					<constraints>
						<constraint ref="qa:freqUnits" />
					</constraints>
				</property>
			</properties>			
			<overrides />
			<mandatory-aspects>
				<aspect>qa:sampleListAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:samplingList">
			<parent>qa:qualityListItem</parent>
			<properties>
				<property name="qa:slDateTime">
					<type>d:datetime</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:slSampleId">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:slSampleState">
					<type>d:text</type>
					<mandatory>false</mandatory>					
					<constraints>
						<constraint ref="qa:states" />
					</constraints>
				</property>
			</properties>			
			<overrides />
			<mandatory-aspects>
				<aspect>qa:sampleListAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlDefList">
			<parent>qa:qualityListItem</parent>
			<properties >
				<property name="qa:cdlQty">
					<type>d:int</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:cdlFreq">
					<type>d:int</type>
					<mandatory>true</mandatory>					
				</property>
				<property name="qa:cdlFreqUnit">
					<type>d:text</type>
					<mandatory>true</mandatory>
					<index enabled="false" />
					<constraints>
						<constraint ref="qa:freqUnits" />
					</constraints>
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>qa:controlListAspect</aspect>
			</mandatory-aspects>
		</type>
		<type name="qa:controlList">
			<parent>qa:qualityListItem</parent>
			<properties>
				<property name="qa:clSampleId">
					<type>d:text</type>
					<mandatory>true</mandatory>
				</property>
				<property name="qa:clValue">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>				
				<property name="qa:clState">
					<type>d:text</type>
					<mandatory>false</mandatory>					
					<constraints>
						<constraint ref="qa:states" />
					</constraints>
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects>
				<aspect>qa:controlListAspect</aspect>
			</mandatory-aspects>
		</type>
	</types>
	<aspects>
		<aspect name="qa:batchAspect">
			<properties>
				<property name="qa:batchId">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:orderId">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:batchStart">
					<type>d:datetime</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:batchDuration">
					<type>d:int</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:batchComment">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
				<property name="qa:productUseByDate">
					<title>DLC produit</title>
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
			</properties>
			<associations>
				<association name="qa:product">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:product</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:manufacturingAspect</aspect>
			</mandatory-aspects>
		</aspect>
		<aspect name="qa:claimAspect">
			<title>Aspect réclamation client</title>
			<properties>
				<property name="qa:claimDescription">
					<title>Descriptif du problème</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
				</property>
				<property name="qa:claimSource">
					<title>Source de la remontée</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
					<constraints>
						<constraint ref="qa:claimSources" />
					</constraints>
				</property>
				<property name="qa:claimCustomerInformation">
					<title>Coordonnées client</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimTracking">
					<title>Suivi demandé</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="qa:claimTrackingValues" />
					</constraints>
				</property>
				<property name="qa:claimType">
					<title>Type réclamation</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="qa:claimTypes" />
					</constraints>
				</property>
				<property name="qa:claimOriginHierarchy1">
					<title>Processus responsable de la réclamation - Famille</title>
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="qa:claimOriginHierarchy2">
					<title>Processus responsable de la réclamation - Sous famille</title>
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="qa:claimDistributionNetwork">
					<title>Réseau de distribution</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="qa:claimDistributionNetworks" />
					</constraints>
				</property>
				<!-- Comments -->
				 <property name="qa:claimStartComment">
					<title>Commentaires étape saisie</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
			     <property name="qa:claimAnalysisComment">
					<title>Commentaires étape orientation</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:claimClassificationComment">
					<title>Commentaires étape classification</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<!-- Deprecated -->
				<property name="qa:claimTradeContactCheck">
					<title>Le produit a-t-il été vu par le commercial?</title>
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true" />
				</property>
			
			</properties>
			<associations>
				<association name="qa:claimTradeContact">
					<title>Contact commercial</title>
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:person</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects>
				<aspect>bcpg:clientsAspect</aspect>
			</mandatory-aspects>
		</aspect>
		<aspect name="qa:sampleListAspect">
			<properties>
				<property name="qa:slReaction">
					<type>d:text</type>
					<index enabled="false"/>
				</property>
			</properties>
			<associations>
				<association name="qa:slControlPoint">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlPoint</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:slControlStep">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlStep</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:slSamplingGroup">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:authorityContainer</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:slControlingGroup">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:authorityContainer</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:slFixingGroup">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:authorityContainer</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</aspect>
		<aspect name="qa:controlListAspect">
			<properties>
				<property name="qa:clType">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<constraints>
						<constraint ref="qa:controlTypes" />
					</constraints>
				</property>
				<property name="qa:clTarget">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:clUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
					<constraints>
						<constraint ref="qa:controlUnits"/>
					</constraints>
				</property>
				<property name="qa:clMini">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:clMaxi">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:clTextCriteria">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
				<property name="qa:clRequired">
					<type>d:boolean</type>
					<mandatory>false</mandatory>					
				</property>
			</properties>			
			<associations>
				<association name="qa:clMethod">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>qa:controlMethod</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
				<association name="qa:clCharacts">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:charact</class>
						<mandatory enforced="false">false</mandatory>
						<many>true</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects />
		</aspect>
		<aspect name="qa:claimTreatementAspect">
			<title>Aspect traitement réclamation</title>
			<properties>
				<property name="qa:claimTreatementDate">
					<title>Date traitement</title>
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimTreatementDetails">
					<title>Détails du traitement effectué (analyse des causes, traçabilité)</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimTreatementPrevActions">
					<title>Actions préventives éventuellement lancées</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimTreatementComment">
					<title>Commentaires étape traitement</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
			</properties>
			<associations>
				<association name="qa:claimTreatmentActor">
					<title>Pilote étape Traitement</title>
					<description>Une étape Traitement (recherches des causes, traçabilité…) est elle à effectuer ?</description>
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:person</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects />
		</aspect>
		<aspect name="qa:claimResponseAspect">
			<title>Aspect réponse réclamation</title>
			<properties>
				<property name="qa:claimResponseDate">
					<title>Date réponse</title>
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimResponseState">
					<title>Etat réponse</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="qa:claimResponseStates" />
					</constraints>
				</property>
				<property name="qa:claimResponseDetails">
					<title>Réponse apportée</title>
					<description>( à détailler de façon formalisée en quelques phrases, sans abréviation - si besoin, préciser juste "cf pièce jointe")</description>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimResponseComment">
					<title>Commentaires étape réponse</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
			</properties>
			<associations>
				<association name="qa:claimResponseActor">
					<title>Pilote étape Réponse</title>
					<description>Une étape Réponse sera-t-elle à effectuer ?</description>
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>cm:person</class>
						<mandatory enforced="false">false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
			<overrides />
			<mandatory-aspects />
		</aspect>
		<aspect name="qa:claimClosingAspect">
			<title>Aspect clôture réclamation</title>
			<properties>
				<property name="qa:claimClosingDate">
					<title>Date de clôture</title>
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="qa:claimClosingComment">
					<title>Commentaires étape clôture</title>
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects />
		</aspect>
	</aspects>
</model>
