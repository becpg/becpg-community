{
	"processDefinitions": [
		{
			"itemId": "activiti$activitiAdhoc",
			"itemKind": "workflow"
		},
		{
			"itemId": "activiti$activitiParallelReview",
			"itemKind": "workflow"
		},{
			"itemId": "activiti$productValidationWF",
			"itemKind": "workflow",
			"permissionGroup": "GROUP_ProductValidationStart",
			"condition": "js(items.length > 0 || items.every( (n) =>  n.isSubType(\"bcpg:product\")) )",
			"formFields": {
			    "prop_bpm_workflowDescription": "js(bcpg.getMessage(\"plm.script.start-validation-workflow.js.message\",items.map( (n) =>  n.name ).join(\", \")))",
			    "assoc_bcpgwf_rdQualityApprovalActor": "js(people.getMembers(people.getGroup(\"GROUP_RDMgr\")).map((n) =>  n.nodeRef ).join(\",\"))",
				"assoc_bcpgwf_pvQualityApprovalActor": "js(people.getMembers(people.getGroup(\"GROUP_QualityMgr\")).map((n) =>  n.nodeRef ).join(\",\"))",
				"assoc_bcpgwf_pvProductionApprovalActor": "js(people.getMembers(people.getGroup(\"GROUP_ProductionMgr\")).map((n) =>  n.nodeRef ).join(\",\"))",
				"assoc_bcpgwf_pvPackagingApprovalActor": "js(people.getMembers(people.getGroup(\"GROUP_PackagingMgr\")).map((n) =>  n.nodeRef ).join(\",\"))",
				"prop_bpm_workflowDueDate" :"js(var d = new Date();d.setDate(d.getDate() + 7);toISO8601(d))"
			}
		},
		{
			"title": "becpg.process.create-project.title",
			"description": "becpg.process.create-project.description",
			"itemId": "pjt:project",
			"itemKind": "type",
			"formId": "create-process",
			"condition": "js(items.length == 0 || items.every( (n) =>  n.isSubType(\"bcpg:entityV2\")) )",
			"destination": "js(siteService.getSite(\"simulation\").getContainer(\"documentLibrary\").nodeRef)",
			"formFields": {
				"assoc_pjt_projectEntity_added": "js(items.map((n) =>  n.nodeRef ).join(\",\"))",
				"prop_pjt_projectState": "InProgress"
			},
			"hiddenFields": [
				"prop_pjt_projectState", "assoc_pjt_projectEntity"
			],
			"redirectUrl": "/entity-data-lists?nodeRef={nodeRef}&list=View-properties"
		},
		{
			"title": "becpg.process.associate-project.title",
			"description": "becpg.process.associate-project.description",
			"itemId": "pjt:project",
			"itemKind": "type",
			"formId": "associate-process",
			"condition": "js(items.length > 0 && items.every( (n) =>  n.isSubType(\"bcpg:entityV2\")) )",
			"submissionUrl": "/becpg/workflow/start-process?script=add-to-project.js&nodeRefs={selectedItems}",
			"redirectUrl": "/entity-data-lists?nodeRef={nodeRef}&list=View-properties"
		},
		{
			"itemId": "activiti$claimProcess",
			"itemKind": "workflow",
			"permissionGroup": "GROUP_ClaimStart",
			"condition": "js(items.length == 0 || items.every( (n) =>  n.isSubType(\"bcpg:product\")) )"
		}
	]
}


