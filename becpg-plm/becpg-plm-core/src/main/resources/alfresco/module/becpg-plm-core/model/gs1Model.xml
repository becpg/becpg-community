<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (C) 2010-2021 beCPG. 
   
  This file is part of beCPG 
   
  beCPG is free software: you can redistribute it and/or modify 
  it under the terms of the GNU Lesser General Public License as published by 
  the Free Software Foundation, either version 3 of the License, or 
  (at your option) any later version. 
   
  beCPG is distributed in the hope that it will be useful, 
  but WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
  GNU Lesser General Public License for more details. 
   
  You should have received a copy of the GNU Lesser General Public License along with beCPG. If not, see <http://www.gnu.org/licenses/>.
-->
<model xmlns="http://www.alfresco.org/model/dictionary/1.0" name="gs1:gs1Model">
	<description>beCPG GS1 Model</description>
	<author>Matthieu Laborie</author>
	<published>2012-03-07</published>
	<version>1.0</version>
	<imports>
		<import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d" />
		<import uri="http://www.alfresco.org/model/system/1.0" prefix="sys" />
		<import uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
		<import uri="http://www.alfresco.org/model/publishing/1.0" prefix="pub" />
		<import uri="http://www.bcpg.fr/model/becpg/1.0" prefix="bcpg" />
	</imports>
	<namespaces>
		<namespace uri="http://www.bcpg.fr/model/gs1/1.0" prefix="gs1" />
	</namespaces>
	<data-types />
	<constraints>
		<constraint name="gs1:packagingTypeCodeConstraint" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/PackagingTypeCodes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
			<parameter name="addEmptyValue">
				<value>true</value>
			</parameter>
		</constraint>

		<constraint name="gs1:palletTypeCodeConstraint" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/PalletTypeCodes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
			<parameter name="addEmptyValue">
				<value>true</value>
			</parameter>
		</constraint>


		<constraint name="gs1:platformTermsAndConditionsCodes" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/PlatformTermsAndConditionsCodes</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
			<parameter name="addEmptyValue">
				<value>true</value>
			</parameter>
		</constraint>

		<constraint name="gs1:sortingBonusCriteriaConstraint" type="fr.becpg.repo.dictionary.constraint.DynListConstraint">
			<parameter name="path">
				<list>
					<value>/System/Lists/bcpg:entityLists/SortingBonusCriteria</value>
				</list>
			</parameter>
			<parameter name="constraintType">
				<value>bcpg:listValue</value>
			</parameter>
			<parameter name="constraintProp">
				<value>bcpg:lvValue</value>
			</parameter>
			<parameter name="addEmptyValue">
				<value>true</value>
			</parameter>
		</constraint>


		<constraint name="gs1:variableTradeItemTypeCodeList" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>LOOSE</value>
					<value>PRE_PACKED</value>
				</list>
			</parameter>
		</constraint>


		<constraint name="gs1:temperatureMeasurementUnits" type="LIST">
			<parameter name="allowedValues">
				<list>
					<value>CEL</value>
					<value>FAH</value>
					<value>KEL</value>
				</list>
			</parameter>
		</constraint>

	</constraints>
	<types>

		<type name="gs1:targetMarket">
			<parent>bcpg:entityListItem</parent>

			<associations>
				<association name="gs1:targetMarketCountries">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:geoOrigin</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

			</associations>
		</type>

		<type name="gs1:dutyFeeTax">
			<parent>bcpg:entityListItem</parent>
			<properties>
				<property name="gs1:dutyFeeTaxCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
				</property>
			</properties>
			<associations>
				<association name="gs1:dutyFeeTaxCountry">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>bcpg:geoOrigin</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>

			</associations>
		</type>
	</types>

	<aspects>

		<aspect name="gs1:temperatureMeasurementAspect">
			<properties>
				<property name="gs1:maximumTemperature">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:minimumTemperature">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:maximumToleranceTemperature">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:minimumToleranceTemperature">
					<type>d:double</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:temperatureMeasurementUnit">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<constraints>
						<constraint ref="gs1:temperatureMeasurementUnits" />
					</constraints>
				</property>
			</properties>
		</aspect>

		<aspect name="gs1:measuresAspect">
			<properties>
				<property name="gs1:productHierarchy1">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:productHierarchy2">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:productHierarchy3">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:productHierarchy4">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>
				<property name="gs1:productHierarchy5">
					<type>d:noderef</type>
					<mandatory>false</mandatory>
				</property>

			</properties>
			<associations />
			<overrides />
			<mandatory-aspects />
		</aspect>
		<aspect name="gs1:indicatorsAspect">
			<properties>
				<property name="gs1:isPublicated">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemABaseUnit">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAConsumerUnit">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemADespatchUnit">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAnInvoiceUnit">
					<description />
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAnOrderableUnit">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>

				<property name="gs1:isTradeItemAFullDisplayStand">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAReturnableItem">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAService">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemABulkItem">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemACutToOrderItem">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAModel">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemADivisibleItem">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAPromotionalItem">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemAVariableUnit">
					<type>d:boolean</type>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:eanCodePrice">
					<type>d:text</type>
				</property>
				<property name="gs1:eanCodeWeight">
					<type>d:text</type>
				</property>
				<property name="gs1:variableTradeItemType">
					<type>d:text</type>
					<constraints>
						<constraint ref="gs1:variableTradeItemTypeCodeList" />
					</constraints>
				</property>
			</properties>
			<associations />
			<overrides />
			<mandatory-aspects />
		</aspect>


		<aspect name="gs1:datesAspect">
			<title>GS1 Dates Aspect</title>
			<properties>
				<property name="gs1:effectiveDate">
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:startAvailabilityDateTime">
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:endAvailabilityDateTime">
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>


				<property name="gs1:publicationDate">
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				
				<!-- Deprecated  -->
				<property name="gs1:lastChangeDateTime">
					<type>d:date</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>

			</properties>
			<associations />
			<overrides />
			<mandatory-aspects />
		</aspect>



		<aspect name="gs1:packagingAspect">
			<properties>
				<property name="gs1:height">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:width">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:depth">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:weight">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:secondaryHeight">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:secondaryWidth">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:secondaryDepth">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:secondaryWeight">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:tertiaryWidth">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:tertiaryDepth">
					<type>d:float</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:tertiaryWeight">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:secondaryNetWeight">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:tertiaryNetWeight">
					<type>d:double</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>

				<property name="gs1:packagingTypeCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="gs1:packagingTypeCodeConstraint" />
					</constraints>
				</property>
				<property name="gs1:secondaryPackagingTypeCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="gs1:packagingTypeCodeConstraint" />
					</constraints>
				</property>

				<property name="gs1:palletTypeCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="gs1:palletTypeCodeConstraint" />
					</constraints>
				</property>

				<property name="gs1:platformTermsAndConditionsCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="false" />
					<constraints>
						<constraint ref="gs1:platformTermsAndConditionsCodes" />
					</constraints>
				</property>

			</properties>
			<overrides />
			<mandatory-aspects />
		</aspect>

		<aspect name="gs1:packSortingAspect">
			<properties>
				<property name="gs1:isPackagingMarkedReturnable">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:isTradeItemMarkedAsRecyclable">
					<type>d:boolean</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:packUnitNumber">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:sortingInstructions">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
				<property name="gs1:sortingBonusCriteria">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<multiple>true</multiple>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
					<constraints>
						<constraint ref="gs1:sortingBonusCriteriaConstraint" />
					</constraints>
				</property>
			</properties>
		</aspect>


		<aspect name="gs1:gs1Aspect">
			<properties />
			<associations>

				<association name="gs1:targetMarkets">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>gs1:targetMarket</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

				<association name="gs1:dutyFeeTaxes">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>gs1:dutyFeeTax</class>
						<mandatory>false</mandatory>
						<many>true</many>
					</target>
				</association>

			</associations>
			<overrides />
			<mandatory-aspects>
				<aspect>gs1:measuresAspect</aspect>
				<aspect>gs1:indicatorsAspect</aspect>
				<aspect>gs1:datesAspect</aspect>
				<aspect>gs1:packagingAspect</aspect>
				<aspect>gs1:packSortingAspect</aspect>
			</mandatory-aspects>
		</aspect>
		<aspect name="gs1:nutrientAspect">
			<properties>
				<property name="gs1:nutrientTypeCode">
					<type>d:text</type>
					<mandatory>false</mandatory>
					<index enabled="true">
						<atomic>false</atomic>
						<stored>false</stored>
						<tokenised>TRUE</tokenised>
					</index>
				</property>
			</properties>
		</aspect>
	</aspects>
</model>
