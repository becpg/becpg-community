(function(){var c=0;var e=Alfresco.util.siteURL,a=Alfresco.util.encodeHTML,f=Alfresco.util.activateLinks;beCPG.util.incLockCount=function(){return ++c};beCPG.util.lockCount=function(){return c};beCPG.util.entityURL=function(l,j,i,g,k){var h=new Alfresco.util.NodeRef(j);var m="entity-data-lists?nodeRef="+h.toString();if(i=="document"||i=="folder"){m=i+"-details?nodeRef="+h.toString()}if(g&&g!=null){m="context/"+g+"/"+m}m=e(m,{site:l});if(k&&k!=null){m+="&list="+k}else{if(i=="bcpg:finishedProduct"||i=="bcpg:semiFinishedProduct"){m+="&list=compoList"}else{if(i=="bcpg:packagingKit"){m+="&list=packagingList"}else{if(i=="pjt:project"){m+="&list=taskList"}else{if(!(i=="document"||i=="folder")){m+="&list=View-properties"}}}}}return m};beCPG.util.entityDocumentsURL=function(k,j,i,g){var h=null;if(Alfresco.constants.PAGECONTEXT=="mine"){h="/myfiles"}else{if(Alfresco.constants.PAGECONTEXT=="shared"){h="/sharedfiles"}else{h=Alfresco.util.isValueSet(k)?"/documentlibrary":"/repository"}}if(g&&Alfresco.constants.PAGECONTEXT!="mine"){h+="?path="+encodeURIComponent(j+"/"+i)}else{if(h.indexOf("repository")>0||h.indexOf("sharedfiles")>0){h+="?path="+encodeURIComponent("/"+j.split("/").slice(2).join("/")+"/"+i)}else{if(h.indexOf("myfiles")>0){h+="?path="+encodeURIComponent("/"+j.split("/").slice(4).join("/")+"/"+i)}else{h+="?path="+encodeURIComponent("/"+j+"/"+i)}}}if(h!==null){h=e(h,{site:k})}return h};beCPG.util.sigFigs=function b(j,i){if(j&&j!=0){var g=1;if(j<0){j=Math.abs(j);g=-1}if(j>=Math.pow(10,i)){return g*Math.round(j)}else{var h=Math.pow(10,i-Math.floor(Math.log(j)/Math.LN10)-1);return g*(Math.round(j*h)/h)}}else{return j}};beCPG.util.convertUnit=function d(i,h,g){if(i!=null&&i!=""&&i!=0){switch(h){case"mo":i=i*30;break;case"ppm":i=i/10000;break;case"pp":i=i/10;break;case"g":case"milli":case"mL":case"mm":i=i/1000;break;case"cL":case"cm":i=i/100;break;case"gal":i=i/0.264172;break;case"fl_oz":i=i/33.814;break;case"cp":i=i/4.16667;break;case"mg":case"micro":i=i/1000000;break;case"mega":i=i*1000000;break;case"oz":i=i/35.27396195;break;case"lb":i=i/2.204622622;break;case"ft":i=i/3.28084;break;case"in":i=i/39.37008;break;case"mil":i=i/39370.079;break;default:break}if(g=="mm"||g=="g"||g=="mL"){i=i*1000}}return i};beCPG.util.createTextTooltip=function(l,h){var k=l;if(k!=null&&(k.length>h||k.split(/\r\n|\r|\n/).length>(h/25))){var j=0;for(var g=0;g<k.length;++g){if(k[g]=="\n"){j=j+25}else{if(k[g]=="\r"){j=j+4}}j++;if(j>h){k=k.substring(0,g-1).trim()+"...";break}}return'<div class="dt-tooltip">'+f(a(k))+'<span class="dt-tooltip-content">'+f(a(l))+"</span></div>"}return f(a(l))};beCPG.util.encodeAttr=function(j,h){if(j===null||typeof j=="undefined"){return""}var g=h===true?"":"&nbsp;&nbsp;&nbsp;";if(YAHOO.env.ua.ie>0){j=""+j;return j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"&#10;"+g).replace(/"/g,"&quot;")}var i=arguments.callee;i.text.data=j;return i.div.innerHTML.replace(/\n/g,"&#10;"+g).replace(/"/g,"&quot;")};beCPG.util.encodeAttr.div=document.createElement("div");beCPG.util.encodeAttr.text=document.createTextNode("");beCPG.util.encodeAttr.div.appendChild(beCPG.util.encodeAttr.text);beCPG.util.isEntity=function(g){if(g&&g.jsNode&&beCPG.util.contains(g.jsNode.aspects,"bcpg:entityListsAspect")){return true}if(g&&g.aspects!==null&&beCPG.util.contains(g.aspects,"bcpg:entityListsAspect")){return true}return false};beCPG.util.postActivity=function(k,g,l,j,i,m){if(!YAHOO.lang.isString(k)||k.length===0||!YAHOO.lang.isString(g)||g.length===0||!YAHOO.lang.isString(l)||l.length===0||!YAHOO.lang.isObject(i)===null||!(YAHOO.lang.isString(i.nodeRef)||YAHOO.lang.isString(i.parentNodeRef))){return}var h={method:"POST",url:Alfresco.constants.PROXY_URI+"slingshot/activity/create",successCallback:{fn:m,scope:this},failureCallback:{fn:m,scope:this},dataObj:YAHOO.lang.merge({site:k,type:g,title:l,page:j},i)};Alfresco.util.Ajax.jsonRequest(h)};Alfresco.util.getFileIcon.types={"{http://www.alfresco.org/model/content/1.0}cmobject":"file","cm:cmobject":"file","{http://www.alfresco.org/model/content/1.0}content":"file","cm:content":"file","{http://www.alfresco.org/model/content/1.0}thumbnail":"file","cm:thumbnail":"file","{http://www.alfresco.org/model/content/1.0}folder":"folder","cm:folder":"folder","{http://www.alfresco.org/model/content/1.0}category":"category","cm:category":"category","{http://www.alfresco.org/model/content/1.0}person":"user","cm:person":"user","{http://www.alfresco.org/model/content/1.0}authorityContainer":"group","cm:authorityContainer":"group",tag:"tag","{http://www.alfresco.org/model/site/1.0}sites":"site","st:sites":"site","{http://www.alfresco.org/model/site/1.0}site":"site","st:site":"site","{http://www.alfresco.org/model/transfer/1.0}transferGroup":"server-group","trx:transferGroup":"server-group","{http://www.alfresco.org/model/transfer/1.0}transferTarget":"server","trx:transferTarget":"server","{http://www.bcpg.fr/model/security/1.0}aclGroup":"aclGroup","sec:aclGroup":"aclGroup","{http://www.bcpg.fr/model/becpg/1.0}cost":"cost","bcpg:cost":"cost","{http://www.bcpg.fr/model/becpg/1.0}microbio":"microbio","bcpg:microbio":"microbio","{http://www.bcpg.fr/model/becpg/1.0}physicoChem":"physicoChem","bcpg:physicoChem":"physicoChem","{http://www.bcpg.fr/model/becpg/1.0}allergen":"allergen","bcpg:allergen":"allergen","{http://www.bcpg.fr/model/becpg/1.0}organo":"organo","bcpg:organo":"organo","{http://www.bcpg.fr/model/becpg/1.0}ing":"ing","bcpg:ing":"ing","{http://www.bcpg.fr/model/becpg/1.0}nut":"nut","bcpg:nut":"nut","{http://www.bcpg.fr/model/becpg/1.0}geoOrigin":"geoOrigin","bcpg:geoOrigin":"geoOrigin","{http://www.bcpg.fr/model/becpg/1.0}bioOrigin":"bioOrigin","bcpg:bioOrigin":"bioOrigin","{http://www.bcpg.fr/model/becpg/1.0}client":"client","bcpg:client":"client","{http://www.bcpg.fr/model/becpg/1.0}supplier":"supplier","bcpg:supplier":"supplier","{http://www.bcpg.fr/model/becpg/1.0}product":"product","bcpg:product":"product","{http://www.bcpg.fr/model/quality/1.0}controlPlan":"controlPlan","qa:controlPlan":"controlPlan","{http://www.bcpg.fr/model/quality/1.0}nc":"nc","qa:nc":"nc","{http://www.bcpg.fr/model/quality/1.0}controlPoint":"controlPoint","qa:controlPoint":"controlPoint","{http://www.bcpg.fr/model/quality/1.0}qualityControl":"qualityControl","qa:qualityControl":"qualityControl","{http://www.bcpg.fr/model/quality/1.0}workItemAnalysis":"workItemAnalysis","qa:workItemAnalysis":"workItemAnalysis","{http://www.bcpg.fr/model/becpg/1.0}systemEntity":"systemEntity","bcpg:systemEntity":"systemEntity","{http://www.bcpg.fr/model/becpg/1.0}finishedProduct":"finishedProduct","bcpg:finishedProduct":"finishedProduct","{http://www.bcpg.fr/model/becpg/1.0}semiFinishedProduct":"semiFinishedProduct","bcpg:semiFinishedProduct":"semiFinishedProduct","{http://www.bcpg.fr/model/becpg/1.0}rawMaterial":"rawMaterial","bcpg:rawMaterial":"rawMaterial","{http://www.bcpg.fr/model/becpg/1.0}localSemiFinishedProduct":"localSemiFinishedProduct","bcpg:localSemiFinishedProduct":"localSemiFinishedProduct","{http://www.bcpg.fr/model/becpg/1.0}packagingKit":"packagingKit","bcpg:packagingKit":"packagingKit","{http://www.bcpg.fr/model/becpg/1.0}packagingMaterial":"packagingMaterial","bcpg:packagingMaterial":"packagingMaterial","{http://www.bcpg.fr/model/becpg/1.0}resourceProduct":"resourceProduct","bcpg:resourceProduct":"resourceProduct","{http://www.bcpg.fr/model/ecm/1.0}changeOrder":"changeOrder","ecm:changeOrder":"changeOrder","{http://www.bcpg.fr/model/publication/1.0}productCatalog":"productCatalog","bp:productCatalog":"productCatalog","{http://www.bcpg.fr/model/becpg/1.0}productSpecification":"productSpecification","bcpg:productSpecification":"productSpecification","{http://www.bcpg.fr/model/becpg/1.0}productMicrobioCriteria":"productMicrobioCriteria","bcpg:productMicrobioCriteria":"productMicrobioCriteria","{http://www.bcpg.fr/model/project/1.0}project":"project","pjt:project":"project","rep:reportTpl":"rptdesign","{http://www.bcpg.fr/model/report/1.0}reportTpl":"rptdesign"}})();