/*! 
 * jQuery Steps v1.0.7 - 05/07/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
(function(G,n){G.fn.extend({_aria:function(af,ag){return this.attr("aria-"+af,ag)},_removeAria:function(af){return this.removeAttr("aria-"+af)},_enableAria:function(af){return(af==null||af)?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(af){return(af==null||af)?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(af){return(af==null||af)?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(af){return(af)?this.attr("id",af):this.attr("id")}});if(!String.prototype.format){String.prototype.format=function(){var af=(arguments.length===1&&G.isArray(arguments[0]))?arguments[0]:arguments;var ah=this;for(var ag=0;ag<af.length;ag++){var ai=new RegExp("\\{"+ag+"\\}","gm");ah=ah.replace(ai,af[ag])}return ah}}var F=0;var K="jQu3ry_5teps_St@te_";var r="-t-";var ab="-p-";var e="-h-";var x="Index out of range.";var d="One or more corresponding step {0} are missing.";function s(ag,af){H(ag).push(af)}function v(al,ag,ak){var ah=al.children(ag.headerTag),ai=al.children(ag.bodyTag);if(ah.length>ai.length){o(d,"contents")}else{if(ah.length<ai.length){o(d,"titles")}}var am=ag.startIndex;ak.stepCount=ah.length;if(ag.saveState&&G.cookie){var aj=G.cookie(K+a(al));var af=parseInt(aj,0);if(!isNaN(af)&&af<ak.stepCount){am=af}}ak.currentIndex=am;ah.each(function(ao){var ar=G(this),aq=ai.eq(ao),an=aq.data("mode"),av=(an==null)?A.html:S(A,(/^\s*$/.test(an)||isNaN(an))?an:parseInt(an,0)),au=(av===A.html||aq.data("url")===n)?"":aq.data("url"),at=(av!==A.html&&aq.data("loaded")==="1"),ap=G.extend({},Z,{title:ar.html(),content:(av===A.html)?aq.html():"",contentUrl:au,contentMode:av,contentLoaded:at});s(al,ap)})}function h(af){af.triggerHandler("canceled")}function i(af,ag){return af.currentIndex-ag}function T(ak,ag){var af=W(ak);ak.unbind(af).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(af);ak.removeClass(ag.clearFixCssClass+" vertical");var aj=ak.find(".content > *");aj.removeData("loaded").removeData("mode").removeData("url");aj.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");ak.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var ah=G('<{0} class="{1}"></{0}>'.format(ak.get(0).tagName,ak.attr("class")));var ai=ak._id();if(ai!=null&&ai!==""){ah._id(ai)}ah.html(ak.find(".content").html());ak.after(ah);ak.remove();return ah}function j(ah,ag){var af=ah.find(".steps li").eq(ag.currentIndex);if(ah.triggerHandler("finishing",[ag.currentIndex])){af.addClass("done").removeClass("error");ah.triggerHandler("finished",[ag.currentIndex])}else{af.addClass("error")}}function W(ag){var af=ag.data("eventNamespace");if(af==null){af="."+a(ag);ag.data("eventNamespace",af)}return af}function L(ag,af){var ah=a(ag);return ag.find("#"+ah+r+af)}function m(ag,af){var ah=a(ag);return ag.find("#"+ah+ab+af)}function B(ag,af){var ah=a(ag);return ag.find("#"+ah+e+af)}function V(af){return af.data("options")}function Y(af){return af.data("state")}function H(af){return af.data("steps")}function f(ah,ag){var af=H(ah);if(ag<0||ag>=af.length){o(x)}return af[ag]}function a(af){var ag=af.data("uid");if(ag==null){ag=af._id();if(ag==null){ag="steps-uid-".concat(F);af._id(ag)}F++;af.data("uid",ag)}return ag}function S(af,ai){U("enumType",af);U("keyOrValue",ai);if(typeof ai==="string"){var ah=af[ai];if(ah===n){o("The enum key '{0}' does not exist.",ai)}return ah}else{if(typeof ai==="number"){for(var ag in af){if(af[ag]===ai){return ai}}o("Invalid enum value '{0}'.",ai)}else{o("Invalid key or value type.")}}}function M(ah,af,ag){return p(ah,af,ag,w(ag,1))}function ae(ah,af,ag){return p(ah,af,ag,i(ag,1))}function Q(ai,ag,ah,af){if(af<0||af>=ah.stepCount){o(x)}if(ag.forceMoveForward&&af<ah.currentIndex){return}var aj=ah.currentIndex;if(ai.triggerHandler("stepChanging",[ah.currentIndex,af])){ah.currentIndex=af;C(ai,ag,ah);aa(ai,ag,ah,aj);k(ai,ag,ah);J(ai,ag,ah);ad(ai,ag,ah,af,aj);ai.triggerHandler("stepChanged",[af,aj])}else{ai.find(".steps li").eq(aj).addClass("error")}return true}function w(ag,af){return ag.currentIndex+af}function g(af){var ag=G.extend(true,{},I,af);return this.each(function(){var ai=G(this);var ah={currentIndex:ag.startIndex,currentStep:null,stepCount:0,transitionElement:null};ai.data("options",ag);ai.data("state",ah);ai.data("steps",[]);v(ai,ag,ah);E(ai,ag,ah);N(ai,ag);if(ag.autoFocus&&F===0){L(ai,ag.startIndex).focus()}})}function y(al,ah,ak,ag,aj){if(ag<0||ag>ak.stepCount){o(x)}aj=G.extend({},Z,aj);z(al,ag,aj);if(ak.currentIndex!==ak.stepCount&&ak.currentIndex>=ag){ak.currentIndex++;C(al,ah,ak)}ak.stepCount++;var ai=al.find(".content"),am=G("<{0}>{1}</{0}>".format(ah.headerTag,aj.title)),af=G("<{0}></{0}>".format(ah.bodyTag));if(aj.contentMode==null||aj.contentMode===A.html){af.html(aj.content)}if(ag===0){ai.prepend(af).prepend(am)}else{m(al,(ag-1)).after(af).after(am)}R(al,ak,af,ag);X(al,ah,ak,am,ag);D(al,ah,ak,ag);if(ag===ak.currentIndex){aa(al,ah,ak)}k(al,ah,ak);return al}function z(ah,af,ag){H(ah).splice(af,0,ag)}function t(ah){var aj=G(this),ag=V(aj),ai=Y(aj);if(ag.suppressPaginationOnFocus&&aj.find(":focus").is(":input")){ah.preventDefault();return false}var af={left:37,right:39};if(ah.keyCode===af.left){ah.preventDefault();ae(aj,ag,ai)}else{if(ah.keyCode===af.right){ah.preventDefault();M(aj,ag,ai)}}}function J(ai,af,ah){if(ah.stepCount>0){var ag=f(ai,ah.currentIndex);if(!af.enableContentCache||!ag.contentLoaded){switch(S(A,ag.contentMode)){case A.iframe:ai.find(".content > .body").eq(ah.currentIndex).empty().html('<iframe src="'+ag.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case A.async:var aj=m(ai,ah.currentIndex)._aria("busy","true").empty().append(b(af.loadingTemplate,{text:af.labels.loading}));G.ajax({url:ag.contentUrl,cache:false}).done(function(ak){aj.empty().html(ak)._aria("busy","false").data("loaded","1")});break}}}}function p(al,ai,ak,ah){var am=ak.currentIndex;if(ah>=0&&ah<ak.stepCount&&!(ai.forceMoveForward&&ah<ak.currentIndex)){var ag=L(al,ah),aj=ag.parent(),af=aj.hasClass("disabled");aj._enableAria();ag.click();if(am===ak.currentIndex&&af){aj._enableAria(false);return false}return true}return false}function q(ai){ai.preventDefault();var ah=G(this),ak=ah.parent().parent().parent().parent(),ag=V(ak),aj=Y(ak),af=ah.attr("href");switch(af.substring(af.lastIndexOf("#")+1)){case"cancel":h(ak);break;case"finish":j(ak,aj);break;case"next":M(ak,ag,aj);break;case"previous":ae(ak,ag,aj);break}}function k(ak,af,aj){if(af.enablePagination){var ag=ak.find(".actions a[href$='#finish']").parent(),ah=ak.find(".actions a[href$='#next']").parent();if(!af.forceMoveForward){var ai=ak.find(".actions a[href$='#previous']").parent();ai._enableAria(aj.currentIndex>0)}if(af.enableFinishButton&&af.showFinishButtonAlways){ag._enableAria(aj.stepCount>0);ah._enableAria(aj.stepCount>1&&aj.stepCount>(aj.currentIndex+1))}else{ag._showAria(af.enableFinishButton&&aj.stepCount===(aj.currentIndex+1));ah._showAria(aj.stepCount===0||aj.stepCount>(aj.currentIndex+1))._enableAria(aj.stepCount>(aj.currentIndex+1)||!af.enableFinishButton)}}}function aa(ak,af,aj,am){var ah=L(ak,aj.currentIndex),ai=G('<span class="current-info audible">'+af.labels.current+" </span>"),ag=ak.find(".content > .title");if(am!=null){var al=L(ak,am);al.parent().addClass("done").removeClass("error")._selectAria(false);ag.eq(am).removeClass("current").next(".body").removeClass("current");ai=al.find(".current-info");ah.focus()}ah.prepend(ai).parent()._selectAria().removeClass("done")._enableAria();ag.eq(aj.currentIndex).addClass("current").next(".body").addClass("current")}function D(ak,ao,af,aj){var al=a(ak);for(var ah=aj;ah<af.stepCount;ah++){var ag=al+r+ah,ai=al+ab+ah,am=al+e+ah,an=ak.find(".title").eq(ah)._id(am);ak.find(".steps a").eq(ah)._id(ag)._aria("controls",ai).attr("href","#"+am).html(b(ao.titleTemplate,{index:ah+1,title:an.html()}));ak.find(".body").eq(ah)._id(ai)._aria("labelledby",am)}}function N(ah,ag){var af=W(ah);ah.bind("canceled"+af,ag.onCanceled);ah.bind("finishing"+af,ag.onFinishing);ah.bind("finished"+af,ag.onFinished);ah.bind("stepChanging"+af,ag.onStepChanging);ah.bind("stepChanged"+af,ag.onStepChanged);if(ag.enableKeyNavigation){ah.bind("keyup"+af,t)}ah.find(".actions a").bind("click"+af,q)}function l(ai,ag,ah,af){if(af<0||af>=ah.stepCount||ah.currentIndex===af){return false}P(ai,af);if(ah.currentIndex>af){ah.currentIndex--;C(ai,ag,ah)}ah.stepCount--;B(ai,af).remove();m(ai,af).remove();L(ai,af).parent().remove();if(af===0){ai.find(".steps li").first().addClass("first")}if(af===ah.stepCount){ai.find(".steps li").eq(af).addClass("last")}D(ai,ag,ah,af);k(ai,ag,ah);return true}function P(ag,af){H(ag).splice(af,1)}function E(ak,ao,af){var an='<{0} class="{1}">{2}</{0}>',ah=S(c,ao.stepsOrientation),ag=(ah===c.vertical)?" vertical":"",ai=G(an.format(ao.contentContainerTag,"content "+ao.clearFixCssClass,ak.html())),al=G(an.format(ao.stepsContainerTag,"steps "+ao.clearFixCssClass,'<ul role="tablist"></ul>')),am=ai.children(ao.headerTag),aj=ai.children(ao.bodyTag);ak.attr("role","application").empty().append(al).append(ai).addClass(ao.cssClass+" "+ao.clearFixCssClass+ag);aj.each(function(ap){R(ak,af,G(this),ap)});am.each(function(ap){X(ak,ao,af,G(this),ap)});aa(ak,ao,af);u(ak,ao,af)}function R(ak,aj,af,ah){var al=a(ak),ag=al+ab+ah,ai=al+e+ah;af._id(ag).attr("role","tabpanel")._aria("labelledby",ai).addClass("body")._showAria(aj.currentIndex===ah)}function u(aj,ag,ai){if(ag.enablePagination){var af='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',ak='<li><a href="#{0}" role="menuitem">{1}</a></li>',ah="";if(!ag.forceMoveForward){ah+=ak.format("previous",ag.labels.previous)}ah+=ak.format("next",ag.labels.next);if(ag.enableFinishButton){ah+=ak.format("finish",ag.labels.finish)}if(ag.enableCancelButton){ah+=ak.format("cancel",ag.labels.cancel)}aj.append(af.format(ag.actionContainerTag,ag.clearFixCssClass,ag.labels.pagination,ah));k(aj,ag,ai);J(aj,ag,ai)}}function b(ai,ak){var aj=ai.match(/#([a-z]*)#/gi);for(var ah=0;ah<aj.length;ah++){var af=aj[ah],ag=af.substring(1,af.length-1);if(ak[ag]===n){o("The key '{0}' does not exist in the substitute collection!",ag)}ai=ai.replace(af,ak[ag])}return ai}function X(ak,aq,af,ah,aj){var am=a(ak),ag=am+r+aj,ai=am+ab+aj,an=am+e+aj,al=ak.find(".steps > ul"),ap=b(aq.titleTemplate,{index:aj+1,title:ah.html()}),ao=G('<li role="tab"><a id="'+ag+'" href="#'+an+'" aria-controls="'+ai+'">'+ap+"</a></li>");ao._enableAria(aq.enableAllSteps||af.currentIndex>aj);if(af.currentIndex>aj){ao.addClass("done")}ah._id(an).attr("tabindex","-1").addClass("title");if(aj===0){al.prepend(ao)}else{al.find("li").eq(aj-1).after(ao)}if(aj===0){al.find("li").removeClass("first").eq(aj).addClass("first")}if(aj===(af.stepCount-1)){al.find("li").removeClass("last").eq(aj).addClass("last")}ao.children("a").bind("click"+W(ak),O)}function C(ah,af,ag){if(af.saveState&&G.cookie){G.cookie(K+a(ah),ag.currentIndex)}}function ad(al,au,ag,ak,ap){var aj=al.find(".content > .body"),at=S(ac,au.transitionEffect),an=au.transitionEffectSpeed,ao=aj.eq(ak),af=aj.eq(ap);switch(at){case ac.fade:case ac.slide:var ai=(at===ac.fade)?"fadeOut":"slideUp",aq=(at===ac.fade)?"fadeIn":"slideDown";ag.transitionElement=ao;af[ai](an,function(){var aw=G(this)._showAria(false).parent().parent(),av=Y(aw);if(av.transitionElement){av.transitionElement[aq](an,function(){G(this)._showAria()});av.transitionElement=null}}).promise();break;case ac.slideLeft:var ar=af.outerWidth(true),ah=(ak>ap)?-(ar):ar,am=(ak>ap)?ar:-(ar);af.animate({left:ah},an,function(){G(this)._showAria(false)}).promise();ao.css("left",am+"px")._showAria().animate({left:0},an).promise();break;default:af._showAria(false);ao._showAria();break}}function O(aj){aj.preventDefault();var ai=G(this),al=ai.parent().parent().parent().parent(),ah=V(al),ak=Y(al),am=ak.currentIndex;if(ai.parent().is(":not(.disabled):not(.current)")){var ag=ai.attr("href"),af=parseInt(ag.substring(ag.lastIndexOf("-")+1),0);Q(al,ah,ak,af)}if(am===ak.currentIndex){L(al,am).focus();return false}}function o(af){if(arguments.length>1){af=af.format(Array.prototype.slice.call(arguments,1))}throw new Error(af)}function U(ag,af){if(af==null){o("The argument '{0}' is null or undefined.",ag)}}G.fn.steps=function(af){if(G.fn.steps[af]){return G.fn.steps[af].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof af==="object"||!af){return g.apply(this,arguments)}else{G.error("Method "+af+" does not exist on jQuery.steps")}}};G.fn.steps.add=function(af){var ag=Y(this);return y(this,V(this),ag,ag.stepCount,af)};G.fn.steps.destroy=function(){return T(this,V(this))};G.fn.steps.finish=function(){j(this,Y(this))};G.fn.steps.getCurrentIndex=function(){return Y(this).currentIndex};G.fn.steps.getCurrentStep=function(){return f(this,Y(this).currentIndex)};G.fn.steps.getStepAnchor=function(){return L(this,Y(this).currentIndex)};G.fn.steps.getStep=function(af){return f(this,af)};G.fn.steps.insert=function(af,ag){return y(this,V(this),Y(this),af,ag)};G.fn.steps.next=function(){return M(this,V(this),Y(this))};G.fn.steps.previous=function(){return ae(this,V(this),Y(this))};G.fn.steps.remove=function(af){return l(this,V(this),Y(this),af)};G.fn.steps.setStep=function(af,ag){throw new Error("Not yet implemented!")};G.fn.steps.skip=function(af){throw new Error("Not yet implemented!")};var A=G.fn.steps.contentMode={html:0,iframe:1,async:2};var c=G.fn.steps.stepsOrientation={horizontal:0,vertical:1};var ac=G.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var Z=G.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:A.html,contentLoaded:false};var I=G.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:c.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:false,enableAllSteps:false,enableKeyNavigation:true,enablePagination:true,suppressPaginationOnFocus:true,enableContentCache:true,enableCancelButton:false,enableFinishButton:true,preloadContent:false,showFinishButtonAlways:false,forceMoveForward:false,saveState:false,startIndex:0,transitionEffect:ac.none,transitionEffectSpeed:200,onStepChanging:function(ah,af,ag){return true},onStepChanged:function(ag,af,ah){},onCanceled:function(af){},onFinishing:function(ag,af){return true},onFinished:function(ag,af){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}})(jQuery);