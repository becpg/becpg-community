<?xml version="1.0" encoding="UTF-8"?>
<alfresco-config>
	<config condition="activiti$projectAdhoc" evaluator="string-compare"
		replace="false">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="bpm:workflowDueDate" />
					<show force="false" id="bpm:workflowPriority" />
					<show force="false" id="bpm:assignee" />
					<show force="true"  id="pjt:workflowTask" />
					<show force="false" id="packageItems" />
					<show force="false" id="bpm:workflowDescription" />
				</field-visibility>
				<appearance>
					<set appearance="title" id="main" label-id="workflow.set.general" />
					<set appearance="title" id="assignee" label-id="workflow.set.assignee" />
					<set appearance="title" id="items" label-id="workflow.set.items" />

					<field id="bpm:workflowDueDate" label-id="workflow.field.due"
						mandatory="false" read-only="false" set="main" />
					<field id="bpm:workflowPriority" label-id="workflow.field.priority"
						mandatory="false" read-only="false" set="main">
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>

					<field id="bpm:assignee" label-id="workflow.field.assign_to"
						mandatory="false" read-only="false" set="assignee" />

					<field id="pjt:workflowTask" label="Tâche" mandatory="false"
						read-only="false" set="items">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
					<field id="packageItems" mandatory="false" read-only="false"
						set="items" />
					<field id="bpm:workflowDescription" label-id="workflow.field.message"
						mandatory="false" read-only="false">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="style">width: 95%</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjtwf:adhocTask" evaluator="task-type"
		replace="false">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="message" />
					<show force="false" id="pjt:workflowTask" />
					<show force="false" id="taskOwner" />
					<show force="false" id="bpm:priority" />
					<show force="false" id="bpm:dueDate" />
					<show force="false" id="bpm:taskId" />
					<show force="false" id="bpm:status" />
					<show force="false" id="pjtwf:project" />
					<show force="false" id="packageItems" />
					<show force="false" id="bpm:comment" />
					<show force="false" id="transitions" />
				</field-visibility>
				<appearance>
					<set id="info" appearance="title" label-id="workflow.set.task.info"
						template="/org/alfresco/components/form/3-column-set.ftl" />
					<set appearance="title" id="items" label-id="workflow.set.items" />
					<set appearance="title" id="progress" label-id="workflow.set.task.progress" />

					<field id="message" mandatory="false" read-only="false">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="pjt:workflowTask" mandatory="false" read-only="true" >
						<control	template="/org/alfresco/components/form/controls/workflow/project-task.ftl" />
					</field>

					<field id="taskOwner" mandatory="false" read-only="false"
						set="info" />
					<field id="bpm:priority" mandatory="false" read-only="false"
						set="info">
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>
					<field id="bpm:dueDate" label-id="workflow.field.due"
						mandatory="false" read-only="false" set="info">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="bpm:taskId" mandatory="false" read-only="false"
						set="info">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>

					<field id="bpm:status" mandatory="false" read-only="false"
						set="progress" />

					<field id="pjtwf:project" mandatory="false" read-only="false"
						set="items" />
					<field id="packageItems" mandatory="false" read-only="false"
						set="items" />
					<set appearance="title" id="response" label-id="workflow.set.response" />
					<field id="bpm:comment" label-id="workflow.field.comment"
						mandatory="false" read-only="false" set="response">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
					<field id="transitions" mandatory="false" read-only="false"
						set="response" />
				</appearance>
			</form>
		</forms>
	</config>
	
	<config evaluator="task-type" condition="pjtwf:submitNewProductTask">
      <forms>
         <form id="workflow-details">
            <field-visibility>
               <show id="bpm:sendEMailNotifications" />
               <show id="packageItems" />
            </field-visibility>
            <appearance>
               <set id="" appearance="title" label-id="workflow.set.workflow.more_info" />
               <set id="items" appearance="title" label-id="workflow.set.items" />
               
               <field id="packageItems" set="items" />
            </appearance>
         </form>
         
         <form>
            <field-visibility>
               <show id="message" />
               <show id="taskOwner" />
               <show id="bpm:workflowPriority" />
               <show id="bpm:workflowDueDate" />
               <show id="bpm:taskId" />
               <show id="bpm:status" />
               <show id="packageItems" />
               <show id="bpm:sendEMailNotifications" />
            </field-visibility>
            <appearance>
               <set id="" appearance="title" label-id="workflow.set.task.info" />
               <set id="info" appearance="" template="/org/alfresco/components/form/3-column-set.ftl" />
               <set id="progress" appearance="title" label-id="workflow.set.task.progress" />
               <set id="items" appearance="title" label-id="workflow.set.items" />
               <set id="other" appearance="title" label-id="workflow.set.other" />
               
               <field id="message">
                  <control template="/org/alfresco/components/form/controls/info.ftl" />
               </field>
               <field id="taskOwner" set="info" />
               <field id="bpm:taskId" set="info">
                  <control template="/org/alfresco/components/form/controls/info.ftl" />
               </field>
               <field id="bpm:workflowPriority" label-id="workflow.field.priority" set="info" read-only="true">
                  <control template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
               </field>
               <field id="bpm:workflowDueDate" set="info" label-id="workflow.field.due">
                  <control template="/org/alfresco/components/form/controls/info.ftl" />
               </field>
               <field id="bpm:status" set="progress" />
               <field id="bpm:sendEMailNotifications" set="other" />
               <field id="packageItems" set="items" />
            </appearance>
         </form>
      </forms>
   </config>
	<config condition="activiti$projectNewProduct" evaluator="string-compare"
		replace="false">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="bpm:workflowDueDate" />
					<show force="false" id="bpm:workflowPriority" />
					<show force="false" id="bpm:assignee" />
					<show force="true" id="pjt:workflowTask" />
					<show force="false" id="packageItems" />
					<show force="false" id="bpm:workflowDescription" />
				</field-visibility>
				<appearance>
					<set appearance="title" id="main" label-id="workflow.set.general" />
					<set appearance="title" id="assignee" label-id="workflow.set.assignee" />
					<set appearance="title" id="items" label-id="workflow.set.items" />

					<field id="bpm:workflowDueDate" label-id="workflow.field.due"
						mandatory="false" read-only="false" set="main" />
					<field id="bpm:workflowPriority" label-id="workflow.field.priority"
						mandatory="false" read-only="false" set="main">
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>

					<field id="bpm:assignee" label-id="workflow.field.assign_to"
						mandatory="false" read-only="false" set="assignee" />

					<field id="pjt:workflowTask" label="Tâche" mandatory="false"
						read-only="true" set="items">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>
					<field id="packageItems" mandatory="false" read-only="false"
						set="items" />
					<field id="bpm:workflowDescription" label-id="workflow.field.message"
						mandatory="false" read-only="false">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="style">width: 95%</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config condition="pjtwf:newProductTask" evaluator="task-type"
		replace="false">
		<forms>
			<form>
				<field-visibility>
					<show force="false" id="bpm:status" />
					<show force="false" id="taskOwner" />
					<show force="false" id="bpm:priority" />
					<show force="false" id="bpm:dueDate" />
					<show force="false" id="pjtwf:npdProductName" />
					<show force="false" id="pjtwf:productDescription" />
					<show force="false" id="pjtwf:needDefinitionProduct" />
					<show force="false" id="pjtwf:packagingDescription" />
					<show force="false" id="pjtwf:needDefinitionPackagingKit" />
					<show force="false" id="pjtwf:recipeDescription" />
					<show force="false" id="pjtwf:needDefinitionRecipeProduct" />
					<show force="false" id="bpm:comment" />
					<show force="false" id="packageItems" />
					<show force="false" id="transitions" />
				</field-visibility>
				<appearance>
					<set appearance="title" id="main" label-id="workflow.set.general"
						template="/org/alfresco/components/form/2-column-set.ftl" />
					<set appearance="title" id="product" label-id="becpg.forms.set.product.label" />
					<set appearance="title" id="packagingKit" label-id="becpg.forms.set.packaging.label" />
					<set appearance="title" id="recipe" label-id="becpg.forms.set.recipe.label" />
					<set appearance="title" id="progress" label-id="workflow.set.task.progress" />
					<set appearance="title" id="items" label-id="workflow.set.items" />
					<field id="bpm:status" mandatory="false" read-only="false"
						set="main" />
					<field id="taskOwner" mandatory="false" read-only="false"
						set="main" />
					<field id="bpm:priority" mandatory="false" read-only="false"
						set="main">
						<control
							template="/org/alfresco/components/form/controls/workflow/priority.ftl" />
					</field>
					<field id="bpm:dueDate" label-id="workflow.field.due"
						mandatory="false" read-only="false" set="main">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>

					<field id="pjtwf:npdProductName" label-id="becpg.forms.set.product.name"
						mandatory="false" read-only="false" set="product" />
					<field id="pjtwf:productDescription" label-id="becpg.forms.set.product-description.label"
						mandatory="false" read-only="false" set="product">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="style">width: 95%</control-param>
						</control>
					</field>
					<field id="pjtwf:needDefinitionProduct" label-id="becpg.forms.set.existing-product.label"
						mandatory="false" read-only="false" set="product">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>

					<field id="pjtwf:packagingDescription" label-id="becpg.forms.set.packaging-description.label"
						mandatory="false" read-only="false" set="packagingKit">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="style">width: 95%</control-param>
						</control>
					</field>
					<field id="pjtwf:needDefinitionPackagingKit" label-id="becpg.forms.set.existing-packaging.label"
						mandatory="false" read-only="false" set="packagingKit">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>

					<field id="pjtwf:recipeDescription" label-id="becpg.forms.set.recipe-description.label"
						mandatory="false" read-only="false" set="recipe">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="style">width: 95%</control-param>
						</control>
					</field>
					<field id="pjtwf:needDefinitionRecipeProduct" label-id="becpg.forms.set.existing-recipe.label"
						mandatory="false" read-only="false" set="recipe">
						<control
							template="/org/alfresco/components/form/controls/autocomplete-association.ftl" />
					</field>

					<field id="bpm:comment" label-id="workflow.field.comment"
						mandatory="false" read-only="false" set="progress">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>

					<field id="packageItems" mandatory="false" read-only="false"
						set="items" />
					<field id="transitions" mandatory="false" read-only="false"
						set="items" />
				</appearance>
			</form>
		</forms>
	</config>
</alfresco-config>