<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
   
    <bean id="becpgResourceBundle" class="org.springframework.extensions.surf.util.ResourceBundleBootstrapComponent">
      <property name="resourceBundles">
         <list>
            <value>alfresco.messages.becpg-model</value>
            <value>alfresco.messages.becpg-pages</value>
            <value>alfresco.messages.becpg-controls</value>
         </list>
      </property>
   </bean>

   <!-- Provide becpg form config -->
   <bean id="becpgFormsClientConfig" class="org.springframework.extensions.config.ConfigBootstrap" 
         init-method="register">
      <property name="configService" ref="web.config" />
      <property name="configs">
         <list>
            <value>classpath:alfresco/becpg-form-config.xml</value>
            <value>classpath:alfresco/becpg-share-config.xml</value>
            <value>classpath:alfresco/becpg-search-config.xml</value>
            <value>classpath:alfresco/becpg-documentlibrary-config.xml</value>
            <value>classpath:alfresco/becpg-workflow-form-config.xml</value>
            <value>classpath:alfresco/becpg-npd-workflow-form-config.xml</value>
            <value>classpath:alfresco/becpg-quality-form-config.xml</value>
            <value>classpath:alfresco/becpg-security-form-config.xml</value>
            <value>classpath:alfresco/becpg-ecm-form-config.xml</value>
            <value>classpath:alfresco/becpg-bulkedit-form-config.xml</value>
            <value>classpath:alfresco/becpg-m2Model-form-config.xml</value>
            <value>classpath:alfresco/becpg-designer-form-config.xml</value>
            <value>classpath:alfresco/becpg-mpm-form-config.xml</value>
            <value>classpath:alfresco/becpg-var-form-config.xml</value>
            <value>classpath:alfresco/becpg-gs1-form-config.xml</value>
            <value>classpath:alfresco/becpg-nc-workflow-form-config.xml</value>
         </list>
      </property>
   </bean>

	<!-- Action group resolver -->

   <bean id="slingshot.scriptprocessor.resolverHelper" parent="baseScriptExtension" class="fr.becpg.web.resolver.scripts.ResolverHelper">
      <property name="extensionName" value="resolverHelper"/>
   </bean>


   <bean id="becpg.resolver.doclib.actionGroup" class="fr.becpg.web.resolver.doclib.DefaultDoclistActionGroupResolver" />

  <!-- evaluators -->
  
  
 <bean id="evaluator.component.becpg.params.equal" class="fr.becpg.web.extensibility.UrlParamsEvaluator" />
  
  

  <bean id="evaluator.becpg.doclib.action.entity" parent="evaluator.doclib.action.hasAspect">
      <property name="aspects">
         <list>
            <value>bcpg:entityListsAspect</value>
         </list>
      </property>
   </bean>
   
   <bean id="evaluator.becpg.doclib.action.product" parent="evaluator.doclib.action.nodeType">
      <property name="types">
         <list>
            <value>bcpg:product</value>
         </list>
      </property>
   </bean>


  <bean id="evaluator.becpg.doclib.action.entity.isWorkingCopy"  parent="evaluator.doclib.action.chainedMatchAll">
      <property name="evaluators">
         <list>
            <ref bean="evaluator.doclib.action.isWorkingCopy" />
            <ref bean="evaluator.becpg.doclib.action.entity" />
         </list>
      </property>
   </bean>


   <!--  
 	  bcpg:productState
   -->
   <bean id=" evaluator.becpg.doclib.indicator.product.valid" parent="evaluator.doclib.action.value">
      <property name="accessor" value="properties.becpg_productState" />
      <property name="comparator">
         <bean class="org.alfresco.web.evaluator.StringEqualsComparator">
            <property name="value" value="valid" />
         </bean>
      </property>
   </bean>

	 <bean id=" evaluator.becpg.doclib.indicator.product.refused" parent="evaluator.doclib.action.value">
      <property name="accessor" value="properties.becpg_productState" />
      <property name="comparator">
         <bean class="org.alfresco.web.evaluator.StringEqualsComparator">
            <property name="value" value="refused" />
         </bean>
      </property>
   </bean>
   
    <bean id=" evaluator.becpg.doclib.indicator.product.archived" parent="evaluator.doclib.action.value">
      <property name="accessor" value="properties.becpg_productState" />
      <property name="comparator">
         <bean class="org.alfresco.web.evaluator.StringEqualsComparator">
            <property name="value" value="archived" />
         </bean>
      </property>
   </bean>
	


</beans>