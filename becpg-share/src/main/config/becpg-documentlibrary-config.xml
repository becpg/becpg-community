<alfresco-config>

	<config evaluator="string-compare" condition="DocumentLibrary">
		<aspects>
			<visible>
				<aspect name="cm:generalclassifiable" />
				<aspect name="cm:complianceable" />
				<aspect name="cm:dublincore" />
				<aspect name="cm:effectivity" />
				<aspect name="cm:summarizable" />
				<aspect name="cm:versionable" />
				<aspect name="cm:templatable" />
				<aspect name="cm:emailed" />
				<aspect name="emailserver:aliasable" />
				<aspect name="cm:taggable" />
				<aspect name="app:inlineeditable" />
				<aspect name="gd:googleEditable" />
				<aspect name="cm:geographic" />
				<aspect name="exif:exif" />

				<!-- beCPG -->
				<aspect name="bcpg:permissionsTpl" />
				<aspect name="bcpg:clientsAspect" />
				<aspect name="bcpg:suppliersAspect" />
				<aspect name="rep:reportTplsAspect" />
				<aspect name="bcpg:profitabilityAspect" />
				<aspect name="qa:batchAspect" />
				<aspect name="qa:acAspect" />
				<aspect name="dsg:modelAspect" />
				<aspect name="dsg:configAspect" />
				<aspect name="gs1:gs1Aspect" />
				<aspect name="pack:palletAspect" />				
				<aspect name="ext1:customAspect" />
				<aspect name="bp:cataloguable" />
			</visible>

			<!-- Aspects that a user can add. Same as "visible" if left empty -->
			<addable>
				<aspect name="cm:generalclassifiable" />
				<aspect name="cm:complianceable" />
				<aspect name="cm:dublincore" />
				<aspect name="cm:effectivity" />
				<aspect name="cm:summarizable" />
				<aspect name="cm:versionable" />
				<aspect name="cm:templatable" />
				<aspect name="cm:emailed" />
				<aspect name="emailserver:aliasable" />
				<aspect name="cm:taggable" />
				<aspect name="app:inlineeditable" />
				<aspect name="gd:googleEditable" />
				<aspect name="cm:geographic" />
				<aspect name="exif:exif" />

				<!-- beCPG -->
				<aspect name="bcpg:permissionsTpl" />
				<aspect name="bcpg:clientsAspect" />
				<aspect name="bcpg:suppliersAspect" />
				<aspect name="rep:reportTplsAspect" />
				<aspect name="bcpg:profitabilityAspect" />
				<aspect name="qa:batchAspect" />
				<aspect name="qa:acAspect" />
				<aspect name="dsg:modelAspect" />
				<aspect name="dsg:configAspect" />
				<aspect name="gs1:gs1Aspect" />
				<aspect name="pack:palletAspect" />
				<aspect name="ext1:customAspect" />
				<aspect name="bp:cataloguable" />
			</addable>

			<!-- Aspects that a user can remove. Same as "visible" if left empty -->
			<removeable>
				<aspect name="cm:generalclassifiable" />
				<aspect name="cm:complianceable" />
				<aspect name="cm:dublincore" />
				<aspect name="cm:effectivity" />
				<aspect name="cm:summarizable" />
				<aspect name="cm:versionable" />
				<aspect name="cm:templatable" />
				<aspect name="cm:emailed" />
				<aspect name="emailserver:aliasable" />
				<aspect name="cm:taggable" />
				<aspect name="app:inlineeditable" />
				<aspect name="gd:googleEditable" />
				<aspect name="cm:geographic" />
				<aspect name="exif:exif" />

				<!-- beCPG -->
				<aspect name="bcpg:permissionsTpl" />
				<aspect name="bcpg:clientsAspect" />
				<aspect name="bcpg:suppliersAspect" />
				<aspect name="rep:reportTplsAspect" />
				<aspect name="bcpg:profitabilityAspect" />
				<aspect name="qa:batchAspect" />
				<aspect name="qa:acAspect" />
				<aspect name="dsg:modelAspect" />
				<aspect name="dsg:configAspect" />
				<aspect name="gs1:gs1Aspect" />
				<aspect name="pack:palletAspect" />
				<aspect name="ext1:customAspect" />
				<aspect name="bp:cataloguable" />
			</removeable>
		</aspects>

		<types>
			<type name="cm:content">
				<subtype name="bcpg:productMicrobioCriteria" />
				<subtype name="bcpg:productSpecification" />

				<subtype name="bcpg:allergen" />
				<subtype name="bcpg:cost" />
				<subtype name="bcpg:ing" />
				<subtype name="bcpg:microBio" />
				<subtype name="bcpg:nut" />
				<subtype name="bcpg:organo" />
				<subtype name="bcpg:physicoChem" />

				<subtype name="qa:nc" />
				<subtype name="qa:controlPlan" />
				<subtype name="qa:qualityControl" />
				<subtype name="qa:controlPoint" />
				<subtype name="qa:controlStep" />
				<subtype name="qa:controlMethod" />
				<subtype name="qa:workItemAnalysis" />

				<subtype name="bcpg:supplier" />
				<subtype name="bcpg:client" />

				<subtype name="ecm:changeOrder" />

				<subtype name="bcpg:linkedValue" />
				<subtype name="bcpg:listValue" />
				<subtype name="ext1:customType" />

				<subtype name="dsg:config" />
				<subtype name="cm:dictionaryModel" />
				<subtype name="bpm:workflowDefinition" />
				
				<subtype name="pjt:project" />
				<subtype name="pjt:projectTpl" />
			</type>

			<type name="cm:folder">
				<subtype name="bcpg:productReportTemplate" />
				<subtype name="bcpg:entityFolder" />
			</type>

			<type name="dl:dataListItem">
				<subtype name="bcpg:allergenList" />
				<subtype name="bcpg:costList" />
				<subtype name="bcpg:compoList" />
				<subtype name="bcpg:ingLabelingList" />
				<subtype name="bcpg:ingList" />
				<subtype name="bcpg:microBioList" />
				<subtype name="bcpg:nutList" />
				<subtype name="bcpg:organoList" />
				<subtype name="bcpg:physicoChemList" />
			</type>
		</types>


		<indicators>
			<!-- <indicator id="entity-tovalidate" index="10"> <evaluator>evaluator.becpg.doclib.indicator.entity.tovalidate</evaluator> 
				</indicator> <indicator id="entity-valid" index="10"> <evaluator>evaluator.becpg.doclib.indicator.product.valid</evaluator> 
				</indicator> <indicator id="entity-refused" index="10"> <evaluator>evaluator.becpg.doclib.indicator.product.refused</evaluator> 
				</indicator> <indicator id="entity-archived" index="10"> <evaluator>evaluator.becpg.doclib.indicator.product.archived</evaluator> 
				</indicator> -->
		</indicators>

		<metadata-templates>
			<!-- <template id="producTemplate"> <evaluator>evaluator.becpg.doclib.action.product</evaluator> 
				<line index="10" id="date">{date}</line> <line index="20" id="description" 
				view="detailed">{description}</line> <line index="30" id="productInfo" >{legalName 
				label.legalName}{productHierarchy1 label.productHierarchy1}{productHierarchy2 
				label.productHierarchy2}</line> <line index="40" id="productCode" >{code 
				label.code}{erpCode label.erpCode}{eanCode label.eanCode}</line> <line index="10" 
				id="bcpg:suppliers" /> <line index="10" id="bcpg:clients"" /> </template> -->
		</metadata-templates>
      <!--
         File upload configuration
      -->
      <file-upload>
         <!--
            Adobe Flashâ„¢
            In certain environments, an HTTP request originating from Flash cannot be authenticated using an existing session.
            See: http://bugs.adobe.com/jira/browse/FP-4830
            For these cases, it is useful to disable the Flash-based uploader for Share Document Libraries.
         -->
         <adobe-flash-enabled>true</adobe-flash-enabled>
      </file-upload>

	</config>


	<config evaluator="string-compare" condition="DocumentLibrary"
		replace="true">
		<create-content>
			<content id="plain-text" mimetype="text/plain" label="create-content.text"
				itemid="cm:content" icon="text" />
			<content id="rawMaterial" label="menu.create-content.rawMaterial"
				formid="create" itemid="bcpg:rawMaterial" icon="generic-rawMaterial" />
			<content id="localSemiFinishedProduct" label="menu.create-content.localSemiFinishedProduct"
				formid="create" itemid="bcpg:localSemiFinishedProduct" icon="generic-localSemiFinishedProduct"  />
			<content id="semiFinishedProduct" label="menu.create-content.semiFinishedProduct"
				formid="create" itemid="bcpg:semiFinishedProduct" icon="generic-semiFinishedProduct" />
			<content id="finishedProduct" label="menu.create-content.finishedProduct"
				formid="create" itemid="bcpg:finishedProduct" icon="generic-finishedProduct"  />
			<content id="packagingMaterial" label="menu.create-content.packagingMaterial"
				formid="create" itemid="bcpg:packagingMaterial" icon="generic-packagingMaterial"  />
			<content id="packagingKit" label="menu.create-content.packagingKit"
				formid="create" itemid="bcpg:packagingKit" icon="generic-packagingKit"  />
			<content id="resourceProduct" label="menu.create-content.resourceProduct"
				formid="create" itemid="bcpg:resourceProduct" icon="generic-resourceProduct"  />
			<content id="supplier" label="menu.create-content.supplier"
				formid="create" itemid="bcpg:supplier" icon="generic-supplier"  />
			<content id="client" label="menu.create-content.client"
				formid="create" itemid="bcpg:client" icon="generic-client"  />
			<content id="nc" label="menu.create-content.nc" formid="create"
				itemid="qa:nc" icon="generic-nc"  />
			<content id="controlPlan" label="menu.create-content.controlPlan"
				formid="create" itemid="qa:controlPlan" icon="generic-controlPlan"  />
			<content id="qualityControl" label="menu.create-content.qualityControl"
				formid="create" itemid="qa:qualityControl" icon="generic-qualityControl"  />
			<content id="changeOrder" label="menu.create-content.eco"
				formid="create" itemid="ecm:changeOrder" icon="generic-changeOrder"  />
			<content id="project" label="menu.create-content.project"
				formid="create" itemid="pjt:project" icon="generic-project"  />
		
		</create-content>


		<create-content-by-template>true</create-content-by-template>
	</config>



	<config evaluator="string-compare" condition="DocLibActions">

		<!-- Action definitions -->
		<actions>

			<action id="entity-view-datalist" type="javascript"
				label="actions.document.viewEntityLists">
				<param name="function">onActionShowCharact</param>
				<!-- aspect check bcpg:entityListsAspect -->
				<evaluator>evaluator.becpg.doclib.action.entity</evaluator>
			</action>
			
			<action id="entity-refresh-report" type="javascript"
				label="actions.document.refreshReport">
				<param name="function">onActionRefreshReport</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<!-- aspect check rep:reportEntityAspect -->
				<evaluator>evaluator.becpg.doclib.action.generateReport</evaluator>
			</action>

			<action id="entity-checkin" type="javascript"
				label="actions.document.checkin-entity">
				<param name="function">onActionCheckInEntity</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.becpg.doclib.action.entity.isWorkingCopy
				</evaluator>
			</action>

			<action id="entity-checkout" type="javascript"
				label="actions.document.checkout-entity">
				<param name="function">onActionCheckOutEntity</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator negate="true">evaluator.becpg.doclib.action.entity.isWorkingCopy
				</evaluator>
			</action>

			<!-- Cancel editing (cancel checkout) -->
			<action id="entity-cancel-editing" type="javascript"
				label="actions.document.cancel-checkout-entity">
				<param name="function">onActionCancelEditing</param>
				<permissions>
					<permission allow="true">CancelCheckOut</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.isWorkingCopy</evaluator>
			</action>


			<action id="entity-edit-metadata" type="pagelink"
				label="actions.document.edit-metadata">
				<param name="page">edit-metadata?nodeRef={node.nodeRef}</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.becpg.doclib.action.entity</evaluator>
			</action>

		</actions>

 <!--
         Action Group resolver - decides which action group id to use for a node
      -->
      <actionGroupResolver>becpg.resolver.doclib.actionGroup</actionGroupResolver>

		<actionGroups>
		
			<actionGroup id="entity-browse">
				<action index="10" id="entity-view-datalist" />
            <action index="110" id="document-view-content" />
            <action index="120" id="document-locate" />
            <action index="130" id="entity-edit-metadata" />
            <action index="150" id="document-view-original" />
            <action index="160" id="document-view-working-copy" />
            <action index="170" id="document-approve" />
            <action index="180" id="document-reject" />
            <action index="200" id="document-edit-online" />
            <action index="220" id="document-view-googledoc" />
            <action index="230" id="document-checkout-to-googledocs" />
            <action index="240" id="document-checkin-from-googledocs" />
            <action index="250" id="document-copy-to" />
            <action index="260" id="document-move-to" />
            <action index="270" id="document-delete" />
            <action index="280" id="document-assign-workflow" />
            <action index="300" id="document-publish" />
            <action index="310" id="document-view-googlemaps" />
            <action index="320" id="document-view-in-source-repository" />
         </actionGroup>

         <actionGroup id="entity-details">
				<action index="10" id="entity-view-datalist" />			
				<action index="111" id="entity-checkin" />
				<action index="112" id="entity-checkout" />
				<action index="113" id="entity-cancel-editing" />
            <action index="120" id="document-edit-metadata" />
            <action index="140" id="document-view-original" />
            <action index="150" id="document-view-working-copy" />
            <action index="160" id="document-approve" />
            <action index="170" id="document-reject" />
            <action index="190" id="document-edit-online" />
            <action index="210" id="document-view-googledoc" />
            <action index="220" id="document-checkout-to-googledocs" />
            <action index="230" id="document-checkin-from-googledocs" />
            <action index="240" id="entity-refresh-report" />
            <action index="250" id="document-copy-to" />
            <action index="260" id="document-move-to" />
            <action index="270" id="document-delete" />
            <action index="270" id="document-assign-workflow" />
            <action index="310" id="document-manage-aspects" />
            <action index="330" id="document-view-in-source-repository" />
            <action index="340" id="document-publish" />
            <action index="350" id="document-view-googlemaps" />
         </actionGroup>

		</actionGroups>


	</config>
	<config evaluator="string-compare" condition="DocLibCustom">

		<dependencies>
			<css src="/modules/entity-version/new-version-min.css" />
			<css src="/components/documentlibrary/becpg/documentlib.css" />
			<js src="/modules/entity-version/new-version-min.js" />
			<js src="/components/documentlibrary/becpg/fileIcons-min.js" />
			<js src="/components/documentlibrary/becpg/metadataRenderers-min.js" />
			<js src="/components/documentlibrary/becpg/docLibAction-min.js" />
		</dependencies>

	</config>


</alfresco-config>