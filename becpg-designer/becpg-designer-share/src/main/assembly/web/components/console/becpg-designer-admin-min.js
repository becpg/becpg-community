(function(){beCPG.component.DesignerAdminConsole=function(g){beCPG.component.DesignerAdminConsole.superclass.constructor.call(this,"beCPG.component.DesignerAdminConsole",g,["button","menu","container","json"]);return this};YAHOO.extend(beCPG.component.DesignerAdminConsole,Alfresco.component.Base,{onReady:function c(){this.widgets.reloadModelButton=Alfresco.util.createYUIButton(this,"reload-model-button",this.onReloadModelClick);this.widgets.reloadConfigButton=Alfresco.util.createYUIButton(this,"reload-config-button",this.onReloadConfigClick)},onReloadModelClick:function d(h,g){this.widgets.reloadModelButton.set("disabled",true);Alfresco.util.Ajax.request({url:Alfresco.constants.PROXY_URI+"/becpg/admin/repository/reload-model",method:Alfresco.util.Ajax.GET,responseContentType:Alfresco.util.Ajax.JSON,successCallback:{fn:this.onReloadModelSuccess,scope:this},failureCallback:{fn:this.onReloadModelFailure,scope:this}})},onReloadModelSuccess:function f(g){Alfresco.util.PopupManager.displayMessage({text:this.msg("message.reload-model.success")});this.widgets.reloadModelButton.set("disabled",false)},onReloadModelFailure:function b(g){if(g.json.message!==null){Alfresco.util.PopupManager.displayPrompt({text:g.json.message})}else{Alfresco.util.PopupManager.displayMessage({text:this.msg("message.reload-model.failure")})}this.widgets.reloadModelButton.set("disabled",false)},onReloadConfigClick:function e(h,g){this.widgets.reloadConfigButton.set("disabled",true);Alfresco.util.Ajax.request({url:Alfresco.constants.URL_SERVICECONTEXT+"components/console/config/reload",method:Alfresco.util.Ajax.GET,responseContentType:Alfresco.util.Ajax.JSON,successCallback:{fn:this.onReloadConfigSuccess,scope:this},failureCallback:{fn:this.onReloadConfigFailure,scope:this}})},onReloadConfigSuccess:function a(g){Alfresco.util.PopupManager.displayMessage({text:this.msg("message.reload-config.success")});this.widgets.reloadConfigButton.set("disabled",false)}})})();